{"version":3,"sources":["webpack:///./~/diffie-hellman/lib/primes.json?afcc","webpack:///./~/elliptic/package.json?4668","webpack:///./~/parse-asn1/aesid.json?1ef3","webpack:///buffer (ignored)?9130","webpack:///crypto (ignored)?2783","webpack:///util (ignored)?4d74","webpack:///./src/models/Category.js?e181","webpack:///./src/components/admin/Admin.vue","webpack:///./src/router-components/admin/Album.vue?c82e","webpack:///./src/router-components/admin/Albums.vue?7f8a","webpack:///./src/models/Album.js?019d","webpack:///./src/router-components/admin/Categories.vue?497e","webpack:///./src/router-components/admin/Category.vue?363e","webpack:///./src/router-components/admin/Dashboard.vue?947f","webpack:///./src/router-components/admin/Settings.vue","webpack:///src/components/admin/Admin.vue","webpack:///src/components/admin/Sidebar.vue","webpack:///src/router-components/admin/Album.vue","webpack:///src/router-components/admin/Albums.vue","webpack:///src/router-components/admin/Categories.vue","webpack:///src/router-components/admin/Category.vue","webpack:///src/router-components/admin/Dashboard.vue","webpack:///src/router-components/admin/Settings.vue","webpack:///./src/libs/i18n.js?2941","webpack:///./src/router-components/admin/Category.vue?1774","webpack:///./src/router-components/admin/Settings.vue?3d0a","webpack:///./src/router-components/admin/Dashboard.vue?11ef","webpack:///./src/components/admin/Sidebar.vue?3927","webpack:///./src/router-components/admin/Categories.vue?1663","webpack:///./src/router-components/admin/Album.vue?7702","webpack:///./src/router-components/admin/Albums.vue?18b4","webpack:///./src/components/admin/Sidebar.vue","webpack:///./src/router-components/admin/Category.vue?7311","webpack:///./src/router-components/admin/Settings.vue?8e88","webpack:///./src/components/admin/Admin.vue?101b","webpack:///./src/router-components/admin/Dashboard.vue?61c5","webpack:///./src/components/admin/Sidebar.vue?2bc4","webpack:///./src/models/Config.js?05e3","webpack:///./src/router-components/admin/Categories.vue?811f","webpack:///./src/router-components/admin/Album.vue?97c9","webpack:///./src/router-components/admin/Albums.vue?6c00","webpack:///./src/libs/chinese-string-indexer.js?2e2b","webpack:///./src/libs/i18n.config.json?65b0","webpack:///./~/browserify-sign/browser/algorithms.json?03e0","webpack:///./~/browserify-sign/browser/curves.json?f2fc","webpack:///./src/models/qiniu-bucket.js?c472","webpack:///./src/libs/simple-modal.js","webpack:///./src/entries/admin-main.js"],"names":["Model","use","Category","extend","title","String","name","subtitle","cover","setIndexerForColumn","setIndex","ready","load","allInstances","then","categories","length","filmyBucket","getFile","JSON","parse","body","all","map","_category","category","_key","once","resolve","sort","a","b","getCacheData","created_at","catch","error","loadIfNotInit","saveToCloud","password","isString","TypeError","fetchPutToken","dump","data","putToken","fileData","Blob","type","putFile","Album","content","Number","photos","Array","fetchByCategory","categoryName","search","albums","_album","album","i18n","config","lang","navigator","language","defaultLang","_default","key","toLowerCase","translations","split","detectLang","Config","silent","min","exists","hmset","err","console","alert","update","oldConfig","ChineseStringIndexer","val","url","encodeURIComponent","fetch","method","res","json","BaseIndexer","qiniu","bucket","getKeys","keys","returnBody","options","scope","deadline","Math","floor","Date","now","signture","safeEncode","encodeDigest","encodeSign","sk","token","ak","str","btoa","replace","crypto","createHmac","digest","modalWrapper","_","document","querySelector","createElement","classList","add","setAttribute","modalDialogEl","modalContentEl","appendChild","open","footer","modal","Modal","Vue","filter","routes","path","component","DashboardRoute","CategoriesRoute","CategoryRoute","AlbumsRoute","AlbumRoute","SettingsRoute","router","sideBarBus","swalp","args","swal","inputType","showCancelButton","closeOnConfirm","animation","showLoaderOnConfirm","timer","showConfirmButton","el","render","h","log"],"mappings":"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AEA,WAAO,8DAAAW,CAAY+B,OAAZ,CACLH,SAASvC,IADJ,EAELuC,QAFK,EAGL,EAACD,kBAAD,EAHK,CAAP;AAKD,GAdI,CAAP;AAeD,CApBD;;AAsBA,yDAAeK,KAAf,E;;;;;;;;;AC3FA;AAAA;AACA,yBAAsT;AACtT;AACA;AACA;AACA;AACA;AACmP;AACnP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACtBA;AAAA;AACA,yBAAsT;AACtT;AACA;AACA;AACA;AACA;AACmP;AACnP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACtBA;AAAA;AACA,yBAAsT;AACtT;AACA;AACA;AACA;AACA;AACmP;AACnP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACtBA;AAAA;AACA,yBAAsT;AACtT;AACA;AACA;AACA;AACA;AACmP;AACnP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;;AAIA;AAFA;AADA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACcA;;AACA;;;AAEA;;uHACA;yBACA;qBACA;AACA;AACA;wBACA;;kBAEA;cACA;cAEA;AAJA;AAKA;;;AACA;;+BACA,CACA;sBACA;sDACA;yCACA;AACA;AACA;;iBAGA;AAFA;AAGA;;AACA;AACA;AACA;AAGA;;AA/BA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;sGACA;;aACA;;AACA;;AACA;wBAEA;;;gBAIA;AAFA;aAGA;kBACA;aACA;YACA;sBAEA;AATA;AAUA;;AACA;;qEACA,qBACA;qEACA;mFACA;4BACA;;4BACA;;AACA;sEACA;gCACA;;8DACA;4FACA,2BACA;uCACA;cACA;iDACA;WACA,mBACA;AACA;oBACA;0BACA;AACA;AACA;;;6CAEA;mDACA;sCACA;AACA;;AACA;;kBACA;;cAEA;eACA;gBACA;AAHA,+BAIA;iBACA;qCACA;4CACA;mCACA;6CACA;AACA;AACA;AACA;;AACA;;6EACA;;oBAEA;cACA;mBACA;0BACA;wBACA;mBACA;6BAEA;AARA,kCASA;mGACA;4BACA;;AACA;AACA;;;;8CACA;uCACA;;sBAEA;AADA;;;;;kIAEA;;;;;;;yBACA;;;;;;;;;;;;;;;;;uFACA,8BACA;2EACA;8GACA;oGACA;;AAEA,mCACA;gCACA;;eACA;oBACA;AACA;0BACA;;AACA;AACA;AACA;;;;0BACA;4FACA;AACA;qFACA,wDACA;oDACA;AAEA;4CACA;;iBACA;;AACA;0FACA;0BACA;gCACA;;sBAEA;gBAEA;AAHA;AAIA,8BACA;;qCAEA;gBAEA;AAHA;AAIA;AACA;;AACA;;6EACA;;oBAEA;cACA;0BACA;4BACA;wBAEA;AANA;;sBAQA;gBACA;qBACA;4BACA;0BACA;+BAEA;AAPA;;;iBAQA;;;0FACA;0BACA;;sBAEA;gBAEA;AAHA;gCAIA;AACA,8BACA;;qCAEA;gBAEA;AAHA;AAIA;AAEA;AArHA;AApCA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;wBAEA;;kBAEA;cACA;iBACA;aAEA;AALA;AAMA;;AACA;;8IAEA;4EACA;MAFA,oEAGA;+EAEA;;AACA;;;;+CACA;wBACA;qBACA;yBACA;AACA;AACA;;;4BAEA;wBACA;AACA;kDACA;+CACA;;uCACA;;AACA;;AACA;;gFACA,qFACA,8FAEA;;;;;4FACA;gCACA;;mBACA;;0CACA;wBACA;AACA;AACA;;AACA;;;;gBAEA;;kCAEA;SADA,EAEA,QACA;;;;;;;;;AALA;;;AAMA;;;;;;;;;;;;;;;;aACA;AAEA;AA9BA;AAvBA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;wBAEA;;kBAEA;cACA;aAEA;AAJA;AAKA;;;AACA;;iJAEA;+EACA;MAFA,iEAGA;4EAEA;;AACA;;;;;;6CAGA;SADA,EAEA;;;;;;;;;AAHA;;;AAIA;;;;;;;;;;;;;;;;qBACA;yBACA;AACA;AAEA;;;4BAEA;wBACA;AACA;;AACA;;gFACA,wFACA,8FAEA;;;;;wBACA;;;kCACA;;;;mBACA;;;AACA;kCAEA;+CACA;aACA;;;;;;;;;AAHA;;;AAIA;;;;;;;;;;;;;;;;4BACA;AACA;AAEA;AArBA;AA1BA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;sGACA;;aACA;;AACA;;AACA;wBAEA;;gBAEA;aACA;aAEA;AAJA;AAKA;;AACA;;2CACA;mBACA;AACA;AACA;wGACA;AACA;;;oBACA;gCACA;AACA;AAEA;;;;;AAEA;;6EACA;yBACA;;oBAEA;cACA;mBACA;0BACA;wBACA;mBACA;6BAEA;AARA,kCASA;4GACA;qDACA;mDACA;AACA;8FACA,mCACA;0GACA;qIACA;qBACA;;AACA;kHACA;;AACA;AACA;AACA;;;;gCACA;0BACA;8GACA;wGACA;;6BACA;;AACA;uEACA;wHACA,6BACA;yFACA;2DAEA;;gGACA;;qBACA;;AACA;eACA;iBACA;AACA;AACA,kCACA;qFACA;uDAEA;;iBACA;;AACA;6FACA;0BACA;;sBAEA;gBAEA;AAHA;AAIA,8BACA;;qCAEA;gBAEA;AAHA;AAIA;AACA;;AACA;;6EACA;;oBAEA;cACA;0BACA;4BACA;wBAEA;AANA;;sBAQA;gBACA;qBACA;4BACA;0BACA;+BAEA;AAPA;;;iBAQA;;;6FACA;0BACA;;sBAEA;gBAEA;AAHA;4BAIA;AACA,8BACA;;qCAEA;gBAEA;AAHA;AAIA;AAEA;AApGA;AApBA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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H;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;;ACjIA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;;ACzKA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;;ACfA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;;ACvCA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;;;;;;;;;;;;;;;;;;;ACrEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,I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A;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;;AC9EA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;;ACnJA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH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","file":"static/js/admin-build.js","sourcesContent":["module.exports = {\"modp1\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff\"},\"modp2\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff\"},\"modp5\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff\"},\"modp14\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff\"},\"modp15\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff\"},\"modp16\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff\"},\"modp17\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff\"},\"modp18\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/diffie-hellman/lib/primes.json\n// module id = 103\n// module chunks = 1 2 3","module.exports = {\"name\":\"elliptic\",\"version\":\"6.4.0\",\"description\":\"EC cryptography\",\"main\":\"lib/elliptic.js\",\"files\":[\"lib\"],\"scripts\":{\"jscs\":\"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js\",\"jshint\":\"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js\",\"lint\":\"npm run jscs && npm run jshint\",\"unit\":\"istanbul test _mocha --reporter=spec test/index.js\",\"test\":\"npm run lint && npm run unit\",\"version\":\"grunt dist && git add dist/\"},\"repository\":{\"type\":\"git\",\"url\":\"git@github.com:indutny/elliptic\"},\"keywords\":[\"EC\",\"Elliptic\",\"curve\",\"Cryptography\"],\"author\":\"Fedor Indutny <fedor@indutny.com>\",\"license\":\"MIT\",\"bugs\":{\"url\":\"https://github.com/indutny/elliptic/issues\"},\"homepage\":\"https://github.com/indutny/elliptic\",\"devDependencies\":{\"brfs\":\"^1.4.3\",\"coveralls\":\"^2.11.3\",\"grunt\":\"^0.4.5\",\"grunt-browserify\":\"^5.0.0\",\"grunt-cli\":\"^1.2.0\",\"grunt-contrib-connect\":\"^1.0.0\",\"grunt-contrib-copy\":\"^1.0.0\",\"grunt-contrib-uglify\":\"^1.0.1\",\"grunt-mocha-istanbul\":\"^3.0.1\",\"grunt-saucelabs\":\"^8.6.2\",\"istanbul\":\"^0.4.2\",\"jscs\":\"^2.9.0\",\"jshint\":\"^2.6.0\",\"mocha\":\"^2.1.0\"},\"dependencies\":{\"bn.js\":\"^4.4.0\",\"brorand\":\"^1.0.1\",\"hash.js\":\"^1.0.0\",\"hmac-drbg\":\"^1.0.0\",\"inherits\":\"^2.0.1\",\"minimalistic-assert\":\"^1.0.0\",\"minimalistic-crypto-utils\":\"^1.0.0\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/elliptic/package.json\n// module id = 104\n// module chunks = 1 2 3","module.exports = {\"2.16.840.1.101.3.4.1.1\":\"aes-128-ecb\",\"2.16.840.1.101.3.4.1.2\":\"aes-128-cbc\",\"2.16.840.1.101.3.4.1.3\":\"aes-128-ofb\",\"2.16.840.1.101.3.4.1.4\":\"aes-128-cfb\",\"2.16.840.1.101.3.4.1.21\":\"aes-192-ecb\",\"2.16.840.1.101.3.4.1.22\":\"aes-192-cbc\",\"2.16.840.1.101.3.4.1.23\":\"aes-192-ofb\",\"2.16.840.1.101.3.4.1.24\":\"aes-192-cfb\",\"2.16.840.1.101.3.4.1.41\":\"aes-256-ecb\",\"2.16.840.1.101.3.4.1.42\":\"aes-256-cbc\",\"2.16.840.1.101.3.4.1.43\":\"aes-256-ofb\",\"2.16.840.1.101.3.4.1.44\":\"aes-256-cfb\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/parse-asn1/aesid.json\n// module id = 107\n// module chunks = 1 2 3","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// buffer (ignored)\n// module id = 116\n// module chunks = 1 2 3","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// crypto (ignored)\n// module id = 117\n// module chunks = 1 2 3","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// util (ignored)\n// module id = 118\n// module chunks = 1 2 3","import min from 'min'\nimport Model from 'min-model'\nimport filmyBucket from './qiniu-bucket'\nimport ChineseStringIndexer from '../libs/chinese-string-indexer'\nimport {isString} from 'lodash'\n\nModel.use(min)\n\nconst Category = Model.extend('category', {\n  title: String,\n  name: String,\n  subtitle: String,\n  cover: String\n})\n\nCategory.setIndexerForColumn('title', ChineseStringIndexer)\nCategory.setIndex('title')\nCategory.setIndex('name')\n\nlet ready = false\n\nCategory.load = function () {\n  return Category.allInstances()\n    .then(categories => {\n      if (categories.length > 0) {\n        // ready = true\n        // return categories\n        // 每次打开页面都去获取 categories.json\n        return filmyBucket.getFile('categories.json')\n          .then(body => JSON.parse(body))\n      } else {\n        return filmyBucket.getFile('categories.json')\n          .then(body => JSON.parse(body))\n      }\n    })\n    .then(categories => {\n      return Promise.all(\n        categories.map(category => {\n          if (!ready) {\n            return new Promise(resolve => {\n              const _category = new Category(category._key, category)\n              _category.once('ready', () => resolve(_category))\n            })\n          } else {\n            return category\n          }\n        })\n      )\n    })\n    .then(categories => categories.sort((a, b) => a.getCacheData().created_at < b.getCacheData().created_at))\n    .catch(error => [error])\n}\n\nCategory.loadIfNotInit = function () {\n  if (!ready) {\n    return Category.load()\n  } else {\n    return Promise.resolve()\n  }\n}\n\nCategory.saveToCloud = function (password) {\n  if (!isString(password)) {\n    throw new TypeError('Password must be a string')\n  }\n\n  return filmyBucket.fetchPutToken(password, 'categories.json')\n    .then(putToken => {\n      return Category.dump()\n        .then(data => [data, putToken])\n    })\n    .then(([data, putToken]) => {\n      const fileData = new Blob([JSON.stringify(data)], {type: 'application/json'})\n      fileData.name = 'categories.json'\n\n      return filmyBucket.putFile(\n        fileData.name,\n        fileData,\n        {putToken}\n      )\n    })\n}\n\nexport default Category\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/Category.js","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Admin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1cae0469\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Admin.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/Admin.vue\n// module id = 183\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-de291712\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Album.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Album.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-de291712\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Album.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-de291712\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/router-components/admin/Album.vue\n// module id = 188\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dfa288e8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Albums.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Albums.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dfa288e8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Albums.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-dfa288e8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/router-components/admin/Albums.vue\n// module id = 189\n// module chunks = 2","import min from 'min'\nimport Model from 'min-model'\nimport {isString} from 'lodash'\nimport filmyBucket from './qiniu-bucket'\nimport ChineseStringIndexer from '../libs/chinese-string-indexer'\n\nModel.use(min)\n\nconst Album = Model.extend('album', {\n  title: String,\n  content: String,\n  category: String,\n  created_at: Number,\n  photos: Array\n})\n\n// Album.setIndexerForColumn('title', ChineseStringIndexer)\n// Album.setIndexerForColumn('content', ChineseStringIndexer)\nAlbum.setIndex('title')\nAlbum.setIndex('content')\n\nlet ready = false\n\nAlbum.fetchByCategory = function (categoryName) {\n  return Album.loadIfNotInit()\n    .then(() => Album.search('category', categoryName))\n    .then(albums => albums.sort((a, b) => {\n      return a.getCacheData().created_at < b.getCacheData().created_at\n    }))\n}\n\nAlbum.load = function () {\n  return Album.allInstances()\n    .then(albums => {\n      if (albums.length > 0) {\n        // ready = true\n        // return albums\n        // 每次打开页面都去获取 albums.json\n        return filmyBucket.getFile('albums.json')\n          .then(body => JSON.parse(body))\n      } else {\n        return filmyBucket.getFile('albums.json')\n          .then(body => JSON.parse(body))\n      }\n    })\n    .then(albums => {\n      return Promise.all(\n        albums.map(album => {\n          if (!ready) {\n            return new Promise(resolve => {\n              const _album = new Album(album._key, album)\n              _album.once('ready', () => resolve(_album))\n            })\n          } else {\n            return album\n          }\n        })\n      )\n    })\n}\n\nAlbum.loadIfNotInit = function () {\n  if (!ready) {\n    return Album.load()\n  } else {\n    return Promise.resolve()\n  }\n}\n\nAlbum.saveToCloud = function (password) {\n  if (!isString(password)) {\n    throw new TypeError('Password must be a string')\n  }\n\n  return Album.dump()\n    .then(data => {\n      return filmyBucket.fetchPutToken(password, 'albums.json')\n        .then(putToken => [data, putToken])\n    })\n    .then(([data, putToken]) => {\n      const fileData = new Blob([JSON.stringify(data)], {type: 'application/json'})\n      fileData.name = 'albums.json'\n\n      return filmyBucket.putFile(\n        fileData.name,\n        fileData,\n        {putToken}\n      )\n    })\n}\n\nexport default Album\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/Album.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c1846478\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Categories.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Categories.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c1846478\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Categories.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c1846478\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/router-components/admin/Categories.vue\n// module id = 190\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-031487a6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Category.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Category.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-031487a6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Category.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-031487a6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/router-components/admin/Category.vue\n// module id = 191\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-243d4e1c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Dashboard.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Dashboard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-243d4e1c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Dashboard.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-243d4e1c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/router-components/admin/Dashboard.vue\n// module id = 192\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-09866c4b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Settings.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Settings.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-09866c4b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Settings.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-09866c4b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/router-components/admin/Settings.vue\n// module id = 193\n// module chunks = 2","<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-3\">\n        <sidebar ref=\"sidebar\"></sidebar>\n      </div>\n      <div class=\"col-md-9 pull-right\">\n        <router-view></router-view>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Sidebar from './Sidebar.vue'\n  export default {\n    components: {\n      Sidebar\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/admin/Admin.vue?1dc0ca1a","<template>\n  <div id=\"sidebar\" ref=\"sidebar\">\n    <h2>Filmy Admin</h2>\n\n    <ul class=\"nav nav-pills nav-stacked\">\n      <li role=\"presentation\" :class=\"{ active: active == 'dashboard' }\">\n        <router-link to=\"/dashboard\">{{'dashboard' | i18n}}</router-link>\n      </li>\n      <li role=\"presentation\" :class=\"{ active: active == 'settings' }\">\n        <router-link to=\"/settings\">{{'setting' | i18n}}</router-link>\n      </li>\n      <li role=\"presentation\" :class=\"{ active: active == 'categories' }\">\n        <router-link to=\"/categories\">\n          {{'category' | i18n}}\n          <span class=\"badge\">{{categories}}</span>\n        </router-link>\n      </li>\n      <li role=\"presentation\" :class=\"{ active: active == 'albums' }\">\n        <router-link to=\"/albums\">\n          {{'album' | i18n}}\n          <span class=\"badge\">{{albums}}</span>\n        </router-link>\n      </li>\n      <hr/>\n      <li role=\"presentation\"><a target=\"_blank\" href=\"/\">{{'go to home page' | i18n}}</a></li>\n    </ul>\n  </div>\n</template>\n\n<script>\n  import {sideBarBus} from '../../entries/admin-main'\n  export default {\n    created () {\n      sideBarBus.$on('sideBarUpdate', (categories, albums) => {\n        this.categories = categories\n        this.albums = albums\n      })\n    },\n    data () {\n      return {\n        categories: 0,\n        albums: 0,\n        active: 'dashboard'\n      }\n    },\n    mounted: function () {\n      this.$nextTick(function () {\n      })\n      this.$router.push('dashboard')\n      this.$router.beforeEach((to, from, next) => {\n        this.active = to.path.split('/')[1]\n        next()\n      })\n      new Affix(this.$refs.sidebar, {\n        offsetTop: 50\n      })\n    },\n    methods: {\n//      update (categories = this.categories, albums = this.albums) {\n//        this.categories = categories\n//        this.albums = albums\n//      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/admin/Sidebar.vue?74eeed66","<template>\n  <div id=\"album\">\n    <div class=\"page-header\">\n      <h1 v-if=\"!newer\">{{album.title}}</h1>\n      <h1 v-else>{{'new' | i18n}} {{'album' | i18n}}</h1>\n    </div>\n\n    <form>\n      <div class=\"form-group\">\n        <label for=\"title\">{{'title' | i18n}}</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"album.title\">\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"category\">{{'category' | i18n}}</label>\n        <select class=\"form-control\" v-model=\"album.category\">\n          <option\n            v-for=\"category in categories\"\n            :selected=\"category.selected\"\n            :value=\"category.name\"\n          >{{category.title}}</option>\n        </select>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"content\">{{'text content' | i18n}}</label>\n        <textarea class=\"form-control\" id=\"content\" rows=\"7\" v-model=\"album.content\"></textarea>\n      </div>\n\n      <div class=\"photos\" :class=\"{ over: over }\" ref=\"photos\">\n        <div class=\"photo img-rounded\" v-for=\"(photo, index) in album.photos\">\n          <span @click=\"removePhoto(index)\" class=\"remove-btn glyphicon glyphicon-remove\" aria-hidden=\"true\"></span>\n          <img :src=\"photo\">\n        </div>\n        <div class=\"photo\" >\n          <span class=\"add-btn glyphicon glyphicon-plus\" aria-hidden=\"true\" ref=\"add\"></span>\n        </div>\n      </div>\n\n      <div class=\"form-group\">\n        <button class=\"btn btn-primary\" @click=\"submit\"><span class=\"glyphicon glyphicon-ok\" aria-hidden=\"true\"></span> {{'finish' | i18n}}</button>\n        <button class=\"btn btn-danger\" @click=\"Delete\" v-if=\"!newer\"><span class=\"glyphicon glyphicon-remove\"></span> {{'delete' | i18n}}</button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\n  import Album from '../../models/Album'\n  import Category from '../../models/Category'\n  import Vue from 'vue'\n  import qiniu from 'qiniu.js'\n  import filmyBucket from '../../models/qiniu-bucket'\n  import swal from 'sweetalert'\n  const URL = window.URL || window.webkitURL\n  const swalp = (...args) => {\n    return new Promise(resolve => {\n      swal(...args, (...argv) => resolve(...argv))\n    })\n  }\n  export default {\n    data () {\n      return {\n        album: {\n          photos: []\n        },\n        model: null,\n        categories: [],\n        newer: false,\n        over: false,\n        photosToUpload: new Map()\n      }\n    },\n    mounted () {\n      qiniu.bind(this.$refs.add)\n        .on('file', this.addPhoto)\n      if (qiniu.supportDnd) {\n        qiniu.bind.dnd(this.$refs.photos, {})\n          .on('over', () => this.over = true)\n          .on('out', () => this.over = false)\n      }\n      Category.dump()\n        .then(categories => this.categories = categories)\n      if (this.$route.params.key === 'new') return this.newer = true\n      Album.fetch(this.$route.params.key)\n        .then(album => {\n          if (this.categories.length > 0) {\n            this.categories\n              .filter(c => c.name === album.getCacheData().category)\n              .shift()\n              .selected = true\n          }\n          this.model = album\n          this.album = album.getCacheData()\n        })\n    },\n    methods: {\n      removePhoto (index) {\n        this.photosToUpload.delete(this.album.photos[index])\n        this.album.photos.splice(index, 1)\n      },\n      addPhoto (file) {\n        this.over = false\n        file.imageView({\n          mode: 1,\n          width: 125,\n          height: 125\n        }, (err, image) => {\n          if (err) return\n          image.toBlob(blob => {\n            const blobUrl = URL.createObjectURL(blob)\n            this.album.photos.push(blobUrl)\n            this.photosToUpload.set(blobUrl, file)\n          })\n        })\n      },\n      submit () {\n        const i18n = Vue.filter('i18n')\n        swalp({\n          title: i18n('input password'),\n          type: 'input',\n          inputType: 'password',\n          showCancelButton: true,\n          closeOnConfirm: false,\n          animation: \"slide-from-top\",\n          showLoaderOnConfirm: true\n        })\n          .then(password => {\n            return filmyBucket.fetchPutToken(password)\n              .then(putToken => [ putToken, password ])\n          })\n          .then(([ putToken, password ]) => {\n            if (this.photosToUpload.size === 0) {\n              return [ this.album.photos, password ]\n            } else {\n              const files = []\n              for (const [, file] of this.photosToUpload.entries())\n                files.push(file)\n              return Promise.all(\n                files.map(file => {\n                  const key = `assets/photos/${Math.random().toString(32).substr(2)}`\n                  return filmyBucket.putFile(key, file, { putToken })\n                    .then(() => filmyBucket.key(key).url())\n                })\n              )\n                .then(urls => {\n                  return this.album.photos\n                    .filter(url => url[0] === 'h') // http://\n                    .concat(urls)\n                })\n                .then(urls => [ urls, password ])\n            }\n          })\n          .then(([ photos, password ]) => {\n            if (this.newer) {\n              this.model = new Album({})\n            }\n            return Promise.all(\n              [ 'title', 'category', 'content' ].map(key => {\n                return this.model.set(key, this.album[key])\n              })\n            )\n              .then(() => this.model.set('photos', photos))\n              .then(() => password)\n          })\n          .then(password => Album.saveToCloud(password))\n          .then(() => {\n            this.photosToUpload = new Map()\n            swal({\n              title: i18n('update succeed'),\n              type: 'success'\n            })\n          })\n          .catch(err => {\n            swal({\n              title: err.message || i18n('something went wrong'),\n              type: 'error'\n            })\n          })\n      },\n      Delete () {\n        const i18n = Vue.filter('i18n')\n        swalp({\n          title: i18n('are you sure'),\n          type: 'warning',\n          showCancelButton: true,\n          confirmButtonColor: \"#DD6B55\",\n          closeOnConfirm: false\n        })\n          .then(() => swalp({\n            title: i18n('input password'),\n            type: 'input',\n            inputType: 'password',\n            showCancelButton: true,\n            closeOnConfirm: false,\n            showLoaderOnConfirm: true\n          }))\n          .then(password => this.model.remove().then(() => password))\n          .then(password => Album.saveToCloud(password))\n          .then(() => {\n            swal({\n              title: i18n('update succeed'),\n              type: 'success'\n            })\n            this.$route.router.go('/albums')\n          })\n          .catch(err => {\n            swal({\n              title: err.message || i18n('something went wrong'),\n              type: 'error'\n            })\n          })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .photos {\n    width: 100%;\n    min-height: 400px;\n    border: 5px dashed #CCC;\n    border-radius: 5px;\n    padding: 5px;\n    margin-bottom: 10px;\n  }\n  .photos.over {\n    border-color: #888;\n  }\n  .photo {\n    width: 125px;\n    height: 125px;\n    margin: 2.5px;\n    float: left;\n    position: relative;\n  }\n  .photo img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n  .photo .remove-btn {\n    display: none;\n    position: absolute;\n    font-size: 10px;\n    width: 16px;\n    height: 16px;\n    padding-left: 1px;\n    line-height: 16px;\n    text-align: center;\n    background: #d9534f;\n    color: #FFF;\n    border-radius: 7px;\n    top: -7px;\n    right: -7px;\n    cursor: pointer;\n    z-index: 999;\n  }\n  .photo:hover .remove-btn {\n    display: block;\n  }\n  .photo .add-btn {\n    font-size: 25px;\n    border: 2px dashed #999;\n    cursor: pointer;\n    color: #999;\n    width: 125px;\n    height: 125px;\n    line-height: 125px;\n    text-align: center;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/router-components/admin/Album.vue?5956f728","<template>\n  <div id=\"categories\">\n    <div class=\"page-header\">\n      <h1>{{'album' | i18n}}</h1>\n    </div>\n\n    <div class=\"row\">\n      <ul class=\"nav nav-pills col-sm-7\">\n        <li role=\"presentation\" @click=\"showCategory()\"><a>{{'all' | i18n}}</a></li>\n        <li role=\"presentation\" v-for=\"category in categories\" @click=\"showCategory(category)\"><a>{{category.title}}</a>\n        </li>\n      </ul>\n\n      <form class=\"form-inline pull-right\">\n        <div class=\"form-group\">\n          <button @click=\"newer\" class=\"btn btn-primary\"><span class=\"glyphicon glyphicon-plus\"\n                                                                                 aria-hidden=\"true\"></span>\n            {{'new' | i18n}}\n          </button>\n        </div>\n        <div class=\"form-group\">\n          <input type=\"text\" class=\"form-control\" v-model=\"query\">\n          <button class=\"btn\" @click=\"search\"><span class=\"glyphicon glyphicon-search\" aria-hidden=\"true\"></span>\n            {{'search' | i18n}}\n          </button>\n        </div>\n      </form>\n    </div>\n\n    <div class=\"row\">\n      <router-link\n        class=\"album img-rounded\"\n        v-for=\"album in albums\"\n        :to=\"{ path: `/albums/${album._key}` }\"\n      >\n        <h3 class=\"album-title\">{{album.title}} <span class=\"category\">{{album.categoryTitle}}</span></h3>\n        <img :data-src=\"album.photos[0]\" :alt=\"album.title\" class=\"lazyload\">\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Category from '../../models/Category'\n  import Album from '../../models/Album'\n  import {uniq} from 'lodash'\n  import 'lazysizes/lazysizes.min'\n  export default {\n    data () {\n      return {\n        categories: [],\n        albums: [],\n        allAlbums: [],\n        query: ''\n      }\n    },\n    mounted () {\n      Promise.all([\n        Album.loadIfNotInit()\n          .then(() => Album.dump()),\n        Category.loadIfNotInit()\n          .then(() => Category.dump())\n      ])\n        .then(([albums, categories]) => {\n          albums = this.patchCategoryInfo(albums, categories)\n          this.allAlbums = albums\n          this.albums = albums\n          this.categories = categories\n        })\n    },\n    methods: {\n      newer () {\n        this.$router.push('/albums/new')\n      },\n      showCategory (category) {\n        if (!category) return this.albums = this.allAlbums\n        this.albums = this.allAlbums.filter(n => n.category === category.name)\n      },\n      search () {\n        Promise.all([\n          Album.search('title', this.query),\n          Album.search('content', this.query)\n        ])\n          .then(([a, b]) => uniq(a.concat(b)))\n          .then(albums => {\n            albums = albums.map(n => n.getCacheData())\n            albums = this.patchCategoryInfo(albums)\n            this.albums = albums\n          })\n      },\n      patchCategoryInfo (albums = this.albums, categories = this.categories) {\n        for (const album of albums) {\n          console.log()\n          album.categoryTitle = categories\n            .filter(n => n.name === album.category)\n            .shift()\n            .title\n        }\n        return albums\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .album {\n    width: 287.5px;\n    height: 287.5px;\n    overflow: hidden;\n    display: inline-block;\n    margin: 2.5px;\n    position: relative;\n    cursor: pointer;\n  }\n\n  .album-title {\n    position: absolute;\n    color: #FFF;\n    bottom: 0;\n    margin-left: 20px;\n    text-shadow: 0 0 2px #666;\n    font-size: 24px;\n    line-height: 24px;\n  }\n\n  .album-title .category {\n    font-size: 12px;\n    line-height: 24px;\n  }\n\n  .album img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/router-components/admin/Albums.vue?da22ff7e","<template>\n  <div id=\"categories\">\n    <div class=\"page-header\">\n      <h1>{{'category' | i18n}}</h1>\n    </div>\n\n    <div class=\"row\">\n      <form class=\"form-inline pull-right\">\n        <div class=\"form-group\">\n          <button @click=\"newer\" class=\"btn btn-primary\"><span class=\"glyphicon glyphicon-plus\"\n                                                                                     aria-hidden=\"true\"></span>\n            {{'new' | i18n}}\n          </button>\n        </div>\n        <div class=\"form-group\">\n          <input type=\"text\" class=\"form-control\" v-model=\"query\">\n          <button class=\"btn\" @click=\"search\"><span class=\"glyphicon glyphicon-search\" aria-hidden=\"true\"></span>\n            {{'search' | i18n}}\n          </button>\n        </div>\n      </form>\n    </div>\n\n    <div class=\"row\">\n\n        <router-link\n          class=\"category img-rounded\"\n          v-for=\"category in categories\"\n          :to=\"{ path: `/categories/${category.name}` }\"\n        >\n          <h1 class=\"category-title\">{{category.title}} ({{category.count}})</h1>\n          <img :data-src=\"category.cover\" :alt=\"category.title\" class=\"lazyload\">\n        </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Category from '../../models/Category'\n  import Album from '../../models/Album'\n  import {uniqBy} from 'lodash'\n  import 'lazysizes/lazysizes.min'\n  export default {\n    data () {\n      return {\n        categories: [],\n        albums: [],\n        query: ''\n      }\n    },\n    mounted: function () {\n      Promise.all([\n        Category.loadIfNotInit()\n          .then(() => Category.dump()),\n        Album.loadIfNotInit()\n          .then(() => Album.dump())\n      ])\n        .then(([categories, albums]) => {\n          for (const category of categories) {\n            category.count = albums\n              .filter(album => album.category === category.name)\n              .length\n          }\n          this.albums = albums\n          this.categories = categories\n        })\n    },\n\n    methods: {\n      newer () {\n        this.$router.push('/categories/new')\n      },\n      search () {\n        Promise.all([\n          Category.search('title', this.query),\n          Category.search('name', this.query)\n        ])\n          .then(([a, b]) => a.concat(b))\n          .then(result => uniqBy(result, n => n.getCacheData().name))\n          .then(result => result.map(n => n.getCacheData()))\n          .then(categories => {\n            for (const category of categories) {\n              category.count = this.albums\n                .filter(album => album.category === category.name)\n                .length\n            }\n            this.categories = categories\n          })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .category {\n    width: 49%;\n    margin: 10px 0.5%;\n    height: 200px;\n    overflow: hidden;\n    display: inline-block;\n    position: relative;\n    cursor: pointer;\n  }\n\n  .category-title {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    line-height: 200px;\n    text-align: center;\n    color: #FFF;\n    text-shadow: 0 0 2px #666;\n    margin: 0;\n  }\n\n  .category img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/router-components/admin/Categories.vue?3f3660aa","<template>\n  <div id=\"category\">\n    <div class=\"page-header\">\n      <h1 v-if=\"category.title\">{{category.title}}</h1>\n      <h1 v-else>{{'new' | i18n}} {{'category' | i18n}}</h1>\n    </div>\n\n    <form>\n      <div class=\"form-group\">\n        <label for=\"title\">{{'title' | i18n}}</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"category.title\">\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"name\">{{'name' | i18n}}</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"category.name\">\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"subtitle\">{{'subtitle' | i18n}}</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"category.subtitle\">\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"cover\">{{'cover' | i18n}}</label>\n        <div class=\"category-cover img-rounded\">\n          <img :src=\"category.cover\" v-if=\"category.cover\">\n          <img src=\"https://placeholdit.imgix.net/~text?txtsize=47&txt=NO%20COVER&w=500&h=213\" v-else>\n        </div>\n\n        <input type=\"file\" ref=\"cover\" >\n      </div>\n\n      <div class=\"form-group\">\n        <button class=\"btn btn-primary\" @click=\"submit\" ><span class=\"glyphicon glyphicon-ok\"\n                                                                          aria-hidden=\"true\"></span> {{'finish' | i18n}}\n        </button>\n        <button class=\"btn btn-danger\" @click=\"Delete\" v-if=\"category._key\"><span\n          class=\"glyphicon glyphicon-remove\"></span> {{'delete' | i18n}}\n        </button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\n  import Category from '../../models/Category'\n  import Album from '../../models/Album'\n  import filmyBucket from '../../models/qiniu-bucket'\n  import 'sweetalert'\n  import Vue from 'vue'\n  const swalp = (...args) => {\n    return new Promise(resolve => {\n      swal(...args, (...argv) => resolve(...argv))\n    })\n  }\n  export default {\n    data () {\n      return {\n        category: {},\n        model: null,\n        newer: false\n      }\n    },\n    mounted () {\n      if (this.$route.params.name === 'new') {\n        this.newer = true\n        return\n      }\n      Category.search('name', this.$route.params.name)\n        .then(([category]) => {\n          this.model = category\n          this.category = category.getCacheData()\n        })\n    },\n\n    methods: {\n      submit () {\n        const i18n = Vue.filter('i18n')\n        let updateAlbums = false\n        swalp({\n          title: i18n('input password'),\n          type: 'input',\n          inputType: 'password',\n          showCancelButton: true,\n          closeOnConfirm: false,\n          animation: \"slide-from-top\",\n          showLoaderOnConfirm: true\n        })\n          .then(password => {\n            return new Promise(resolve => {\n              if (this.$refs.cover.files.length === 0) {\n                return resolve([this.category.cover, password])\n              }\n              filmyBucket.fetchPutToken(password)\n                .then(putToken => {\n                  const key = `assets/category-${this.category.name}-${Math.random().toString(32).substr(2)}`\n                  return filmyBucket.putFile(key, this.$refs.cover.files[0], {putToken})\n                    .then(() => key)\n                })\n                .then(key => resolve([filmyBucket.key(key).url(), password]))\n            })\n          })\n          .then(([coverUrl, password]) => {\n            this.category.cover = coverUrl\n            if (this.newer) {\n              return new Promise(resolve => {\n                this.model = new Category(this.category)\n                this.model.once('ready', () => resolve(password))\n              })\n            } else if (this.$route.params.name !== this.category.name) {\n              return Album.search('category', this.$route.params.name)\n                .then(albums => {\n                  return Promise.all(\n                    albums.map(album => album.set('category', this.category.name))\n                  )\n                    .then(() => Album.saveToCloud(password))\n                    .then(() => password)\n                })\n            } else {\n              return password\n            }\n          })\n          .then(password => {\n            return Promise.all(\n              ['title', 'name', 'subtitle', 'cover'].map(key => this.model.set(key, this.category[key]))\n            )\n              .then(() => password)\n          })\n          .then(password => Category.saveToCloud(password))\n          .then(() => {\n            swal({\n              title: i18n('update succeed'),\n              type: 'success'\n            })\n          })\n          .catch(err => {\n            swal({\n              title: err.message || i18n('something went wrong'),\n              type: 'error'\n            })\n          })\n      },\n      Delete () {\n        const i18n = Vue.filter('i18n')\n        swalp({\n          title: i18n('are you sure'),\n          type: 'warning',\n          showCancelButton: true,\n          confirmButtonColor: \"#DD6B55\",\n          closeOnConfirm: false\n        })\n          .then(() => swalp({\n            title: i18n('input password'),\n            type: 'input',\n            inputType: 'password',\n            showCancelButton: true,\n            closeOnConfirm: false,\n            showLoaderOnConfirm: true\n          }))\n          .then(password => this.model.remove().then(() => password))\n          .then(password => Category.saveToCloud(password))\n          .then(() => {\n            swal({\n              title: i18n('update succeed'),\n              type: 'success'\n            })\n            this.$router.push('/categories')\n          })\n          .catch(err => {\n            swal({\n              title: err.message || i18n('something went wrong'),\n              type: 'error'\n            })\n          })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .category-cover {\n    width: 500px;\n    height: 213px;\n    margin: 5px;\n    overflow: hidden;\n    position: relative;\n  }\n\n  .category-cover img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/router-components/admin/Category.vue?74c4e94a","<template>\n  <div id=\"dashboard\">\n    <div class=\"page-header\">\n      <h1>{{'dashboard' | i18n}}</h1>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-md-4 dashboard-number\">\n        <h1>{{numbers.categories}}</h1>\n        <p>{{'number of categories' | i18n}}</p>\n      </div>\n      <div class=\"col-md-4 dashboard-number\">\n        <h1>{{numbers.albums}}</h1>\n        <p>{{'number of albums' | i18n}}</p>\n      </div>\n      <div class=\"col-md-4 dashboard-number\">\n        <h1>{{numbers.photos}}</h1>\n        <p>{{'number of photos' | i18n}}</p>\n      </div>\n    </div>\n\n    <h3>{{'rates of categories' | i18n}}</h3>\n\n    <div class=\"progress\">\n      <div v-for=\"category in categories\" v-bind:class=\"[{'progress-bar': true}, pickBarColor()]\"\n           v-bind:style=\"{ width: category.rate * 100 + '%' }\"></div>\n    </div>\n    <div class=\"progress-labels\">\n      <div v-for=\"category in categories\" v-if=\"category.rate > 0\" class=\"progress-label\"\n           :style=\"{ width: category.rate * 100 + '%' }\">{{category.title}}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Category from '../../models/Category'\n  import Album from '../../models/Album'\n  import { sideBarBus } from '../../entries/admin-main'\n  export default {\n    data () {\n      return {\n        numbers: {\n          categories: 0,\n          albums: 0,\n          photos: 0\n        },\n        categories: []\n      }\n    },\n    mounted () {\n      Promise.all([\n        Category.loadIfNotInit()\n          .then(() => Category.dump()),\n        Album.loadIfNotInit()\n          .then(() => Album.dump())\n      ])\n        .then(([categories, albums]) => {\n          this.numbers.categories = categories.length\n          this.numbers.albums = albums.length\n          this.numbers.photos = albums\n            .map(album => album.photos.length)\n            .reduce((a, b) => a + b)\n          for (const category of categories) {\n            category.rate = albums\n                .filter(album => album.category === category.name)\n                .length / albums.length\n          }\n          this.categories = categories\n//          this.$router.app.$refs.sidebar.update(\n//            categories.length, albums.length\n//          )\n          sideBarBus.$emit('sideBarUpdate', categories.length, albums.length)\n        })\n    },\n    methods: {\n      pickBarColor: (function () {\n        let last = null\n        const colors = ['success', 'primary', 'info', 'warning', 'danger']\n        return function pickOne () {\n          const color = 'progress-bar-' + (colors[Math.round(Math.random() * (colors.length - 1))]).toString()\n          if (color === last) {\n            return pickOne()\n          } else {\n            last = color\n            return color\n          }\n        }\n      })()\n\n    },\n    computed: {\n      pickBarAndColor: function () {\n        return {\n          'progress-bar': true\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .dashboard-number {\n    text-align: center;\n    padding: 5px 0;\n    border-right: 1px solid #CCC;\n  }\n\n  .dashboard-number:last-child {\n    border-right: none;\n  }\n\n  .dashboard-number h1 {\n    font-size: 5rem;\n  }\n\n  .dashboard-number p {\n    font-size: 1.7rem;\n  }\n\n  .progress-labels {\n    margin-top: -15px;\n  }\n\n  .progress-label {\n    display: inline-block;\n    float: left;\n    font-size: 1.8rem;\n    line-height: 1.9rem;\n    text-align: center;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/router-components/admin/Dashboard.vue?cb6719ee","<template>\n  <div id=\"config\">\n    <div class=\"page-header\">\n      <h1>{{'setting' | i18n}}</h1>\n    </div>\n\n    <div class=\"row\">\n      <form>\n        <div class=\"form-group\">\n          <label for=\"title\">{{'title' | i18n}}</label>\n          <input type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"Filmy\" v-model=\"title\"/>\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"subtitle\">{{'subtitle' | i18n}}</label>\n          <textarea type=\"text\" class=\"form-control\" id=\"subtitle\" rows=\"7\" v-model=\"subtitle\"></textarea>\n        </div>\n\n        <label for=\"background\">{{'background image' | i18n}}</label>\n        <div class=\"form-group\" style=\"overflow: hidden\">\n          <label class=\"col-sm-2 control-label\"><input type=\"radio\" value=\"url\" name=\"background\" v-model=\"background\">\n            URL</label>\n          <div class=\"col-sm-10\">\n            <input type=\"url\" class=\"form-control\" v-model=\"background_url\">\n          </div>\n\n          <label class=\"col-sm-2 control-label\"><input type=\"radio\" value=\"file\" name=\"background\" v-model=\"background\">\n            {{'upload file' | i18n}}</label>\n\n          <div class=\"col-sm-10\">\n            <input type=\"file\" ref=\"backgroundfile\">\n          </div>\n        </div>\n\n        <button type=\"button\" class=\"btn btn-primary\" @click=\"submit\" data-toggle=\"button\"\n                v-bind:data-loading-text=\"'working' | i18n\">{{'finish' | i18n}}\n        </button>\n        <button type=\"button\" class=\"btn btn-default\" @click=\"reset\">{{'reset' | i18n}}</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\n  import swal from 'sweetalert'\n  import Vue from 'vue'\n  import filmyBucket from '../../models/qiniu-bucket'\n  import Config from '../../models/Config'\n  import openSimpleModal from '../../libs/simple-modal'\n  export default {\n    data () {\n      return {\n        title: '',\n        subtitle: '',\n        background: 'url',\n        background_url: '',\n        defaultConfig: {}\n      }\n    },\n    mounted: function () {\n      this.$nextTick(function () {\n      })\n      Config.load()\n        .then(config => {\n          this.defaultConfig = config\n          this.updateConfig(config)\n        })\n    },\n    methods: {\n      updateConfig (config) {\n        this.title = config.title\n        this.subtitle = config.description\n        this.background_url = config.background\n      },\n      reset () {\n        this.updateConfig(this.defaultConfig)\n        this.background = 'url'\n      },\n      submit () {\n        swal({\n          title: Vue.filter('i18n')('input password'),\n          type: 'input',\n          inputType: 'password',\n          showCancelButton: true,\n          closeOnConfirm: false,\n          animation: \"slide-from-top\",\n          showLoaderOnConfirm: true\n        }, password => {\n          filmyBucket.fetchPutToken(password)\n            .then(putToken => {\n              switch (this.background) {\n                case 'url':\n                  console.log(this.background_url)\n                  return this.background_url\n                // break\n                case 'file':\n                  const file = this.$refs.backgroundfile.files[0]\n                  if (!file) {\n                    throw new Error('Please select a file.')\n                  }\n                  const key = `assets/bg-${Math.random().toString(32).substr(2)}`\n                  return filmyBucket.putFile(key, file, {putToken})\n                    .then(() => {\n                      const asset = filmyBucket.key(key)\n                      return asset.url()\n                    })\n              }\n            })\n            .then(backgroundUrl => {\n              const config = {\n                title: this.title,\n                description: this.subtitle,\n                background: backgroundUrl\n              }\n              return Config.update(password, config)\n            })\n            .then(() => swal({\n              type: 'success',\n              title: Vue.filter('i18n')('update succeed')\n            }))\n            .catch(err => swal({\n              type: 'error',\n              title: err.message || Vue.filter('i18n')('something went wrong')\n            }))\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  @import url('https://cdn.jsdelivr.net/sweetalert/1.1.3/sweetalert.css');\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/router-components/admin/Settings.vue?2a4b0144","import config from './i18n.config.json'\nexport default i18n(config)\nexport function i18n (config) {\n  const lang = navigator.language\n  const defaultLang = config._default\n\n  return function (key, language = lang) {\n    key = key.toLowerCase()\n\n    // 检索适配标签\n    const translations = config[key]\n\n    // 如果适配配置中不存在\n    // 则直接将输入的键值返回\n    if (!translations) return key\n\n    // 如果配置文件中存在对详细语言进行适配，则将适配内容返回\n    if (translations[language]) return translations[language]\n\n    // 配置文件中存在对语言的笼统分类进行适配\n    language = language.split('-')[0]\n    if (translations[language]) return translations[language]\n\n    // 返回默认配置结果\n    if (translations[defaultLang]) return translations[defaultLang]\n\n    return key\n  }\n}\n\nexport function detectLang () {\n  const lang = navigator.language\n  return lang.split('-')[0]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/i18n.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-031487a6\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/router-components/admin/Category.vue\n// module id = 319\n// module chunks = 2","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-09866c4b\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/router-components/admin/Settings.vue\n// module id = 320\n// module chunks = 2","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-243d4e1c\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/router-components/admin/Dashboard.vue\n// module id = 322\n// module chunks = 2","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-268c7514\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/admin/Sidebar.vue\n// module id = 323\n// module chunks = 2","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-c1846478\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/router-components/admin/Categories.vue\n// module id = 333\n// module chunks = 2","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-de291712\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/router-components/admin/Album.vue\n// module id = 334\n// module chunks = 2","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-dfa288e8\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/router-components/admin/Albums.vue\n// module id = 335\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-268c7514\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Sidebar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sidebar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-268c7514\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Sidebar.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-268c7514\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/Sidebar.vue\n// module id = 377\n// module chunks = 2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"category\"\n    }\n  }, [_c('div', {\n    staticClass: \"page-header\"\n  }, [(_vm.category.title) ? _c('h1', [_vm._v(_vm._s(_vm.category.title))]) : _c('h1', [_vm._v(_vm._s(_vm._f(\"i18n\")('new')) + \" \" + _vm._s(_vm._f(\"i18n\")('category')))])]), _vm._v(\" \"), _c('form', [_c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"title\"\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('title')))]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.category.title),\n      expression: \"category.title\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.category.title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.category.title = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"name\"\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('name')))]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.category.name),\n      expression: \"category.name\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.category.name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.category.name = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"subtitle\"\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('subtitle')))]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.category.subtitle),\n      expression: \"category.subtitle\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.category.subtitle)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.category.subtitle = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"cover\"\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('cover')))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"category-cover img-rounded\"\n  }, [(_vm.category.cover) ? _c('img', {\n    attrs: {\n      \"src\": _vm.category.cover\n    }\n  }) : _c('img', {\n    attrs: {\n      \"src\": \"https://placeholdit.imgix.net/~text?txtsize=47&txt=NO%20COVER&w=500&h=213\"\n    }\n  })]), _vm._v(\" \"), _c('input', {\n    ref: \"cover\",\n    attrs: {\n      \"type\": \"file\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('button', {\n    staticClass: \"btn btn-primary\",\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_c('span', {\n    staticClass: \"glyphicon glyphicon-ok\",\n    attrs: {\n      \"aria-hidden\": \"true\"\n    }\n  }), _vm._v(\" \" + _vm._s(_vm._f(\"i18n\")('finish')) + \"\\n      \")]), _vm._v(\" \"), (_vm.category._key) ? _c('button', {\n    staticClass: \"btn btn-danger\",\n    on: {\n      \"click\": _vm.Delete\n    }\n  }, [_c('span', {\n    staticClass: \"glyphicon glyphicon-remove\"\n  }), _vm._v(\" \" + _vm._s(_vm._f(\"i18n\")('delete')) + \"\\n      \")]) : _vm._e()])])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-031487a6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/router-components/admin/Category.vue\n// module id = 378\n// module chunks = 2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"config\"\n    }\n  }, [_c('div', {\n    staticClass: \"page-header\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm._f(\"i18n\")('setting')))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"row\"\n  }, [_c('form', [_c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"title\"\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('title')))]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.title),\n      expression: \"title\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"text\",\n      \"id\": \"title\",\n      \"placeholder\": \"Filmy\"\n    },\n    domProps: {\n      \"value\": (_vm.title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.title = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"subtitle\"\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('subtitle')))]), _vm._v(\" \"), _c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.subtitle),\n      expression: \"subtitle\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"text\",\n      \"id\": \"subtitle\",\n      \"rows\": \"7\"\n    },\n    domProps: {\n      \"value\": (_vm.subtitle)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.subtitle = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('label', {\n    attrs: {\n      \"for\": \"background\"\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('background image')))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\",\n    staticStyle: {\n      \"overflow\": \"hidden\"\n    }\n  }, [_c('label', {\n    staticClass: \"col-sm-2 control-label\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.background),\n      expression: \"background\"\n    }],\n    attrs: {\n      \"type\": \"radio\",\n      \"value\": \"url\",\n      \"name\": \"background\"\n    },\n    domProps: {\n      \"checked\": _vm._q(_vm.background, \"url\")\n    },\n    on: {\n      \"__c\": function($event) {\n        _vm.background = \"url\"\n      }\n    }\n  }), _vm._v(\"\\n          URL\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-sm-10\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.background_url),\n      expression: \"background_url\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"url\"\n    },\n    domProps: {\n      \"value\": (_vm.background_url)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.background_url = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('label', {\n    staticClass: \"col-sm-2 control-label\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.background),\n      expression: \"background\"\n    }],\n    attrs: {\n      \"type\": \"radio\",\n      \"value\": \"file\",\n      \"name\": \"background\"\n    },\n    domProps: {\n      \"checked\": _vm._q(_vm.background, \"file\")\n    },\n    on: {\n      \"__c\": function($event) {\n        _vm.background = \"file\"\n      }\n    }\n  }), _vm._v(\"\\n          \" + _vm._s(_vm._f(\"i18n\")('upload file')))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-sm-10\"\n  }, [_c('input', {\n    ref: \"backgroundfile\",\n    attrs: {\n      \"type\": \"file\"\n    }\n  })])]), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn btn-primary\",\n    attrs: {\n      \"type\": \"button\",\n      \"data-toggle\": \"button\",\n      \"data-loading-text\": _vm._f(\"i18n\")('working')\n    },\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('finish')) + \"\\n      \")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn btn-default\",\n    attrs: {\n      \"type\": \"button\"\n    },\n    on: {\n      \"click\": _vm.reset\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('reset')))])])])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-09866c4b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/router-components/admin/Settings.vue\n// module id = 379\n// module chunks = 2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-md-3\"\n  }, [_c('sidebar', {\n    ref: \"sidebar\"\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-9 pull-right\"\n  }, [_c('router-view')], 1)])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1cae0469\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/Admin.vue\n// module id = 380\n// module chunks = 2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"dashboard\"\n    }\n  }, [_c('div', {\n    staticClass: \"page-header\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm._f(\"i18n\")('dashboard')))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-md-4 dashboard-number\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm.numbers.categories))]), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm._f(\"i18n\")('number of categories')))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-4 dashboard-number\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm.numbers.albums))]), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm._f(\"i18n\")('number of albums')))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-4 dashboard-number\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm.numbers.photos))]), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm._f(\"i18n\")('number of photos')))])])]), _vm._v(\" \"), _c('h3', [_vm._v(_vm._s(_vm._f(\"i18n\")('rates of categories')))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"progress\"\n  }, _vm._l((_vm.categories), function(category) {\n    return _c('div', {\n      class: [{\n        'progress-bar': true\n      }, _vm.pickBarColor()],\n      style: ({\n        width: category.rate * 100 + '%'\n      })\n    })\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"progress-labels\"\n  }, _vm._l((_vm.categories), function(category) {\n    return (category.rate > 0) ? _c('div', {\n      staticClass: \"progress-label\",\n      style: ({\n        width: category.rate * 100 + '%'\n      })\n    }, [_vm._v(_vm._s(category.title) + \"\\n    \")]) : _vm._e()\n  }))])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-243d4e1c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/router-components/admin/Dashboard.vue\n// module id = 382\n// module chunks = 2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"sidebar\",\n    attrs: {\n      \"id\": \"sidebar\"\n    }\n  }, [_c('h2', [_vm._v(\"Filmy Admin\")]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"nav nav-pills nav-stacked\"\n  }, [_c('li', {\n    class: {\n      active: _vm.active == 'dashboard'\n    },\n    attrs: {\n      \"role\": \"presentation\"\n    }\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"/dashboard\"\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('dashboard')))])], 1), _vm._v(\" \"), _c('li', {\n    class: {\n      active: _vm.active == 'settings'\n    },\n    attrs: {\n      \"role\": \"presentation\"\n    }\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"/settings\"\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('setting')))])], 1), _vm._v(\" \"), _c('li', {\n    class: {\n      active: _vm.active == 'categories'\n    },\n    attrs: {\n      \"role\": \"presentation\"\n    }\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"/categories\"\n    }\n  }, [_vm._v(\"\\n        \" + _vm._s(_vm._f(\"i18n\")('category')) + \"\\n        \"), _c('span', {\n    staticClass: \"badge\"\n  }, [_vm._v(_vm._s(_vm.categories))])])], 1), _vm._v(\" \"), _c('li', {\n    class: {\n      active: _vm.active == 'albums'\n    },\n    attrs: {\n      \"role\": \"presentation\"\n    }\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"/albums\"\n    }\n  }, [_vm._v(\"\\n        \" + _vm._s(_vm._f(\"i18n\")('album')) + \"\\n        \"), _c('span', {\n    staticClass: \"badge\"\n  }, [_vm._v(_vm._s(_vm.albums))])])], 1), _vm._v(\" \"), _c('hr'), _vm._v(\" \"), _c('li', {\n    attrs: {\n      \"role\": \"presentation\"\n    }\n  }, [_c('a', {\n    attrs: {\n      \"target\": \"_blank\",\n      \"href\": \"/\"\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('go to home page')))])])])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-268c7514\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/Sidebar.vue\n// module id = 383\n// module chunks = 2","import min from 'min'\nimport filmyBucket from './qiniu-bucket'\nimport {isString, isPlainObject} from 'lodash'\n\n// 本地存在 核心配置数据 filmy:config 吗？\n// 存在 则获取本地数据\n// 不存在 则通过七牛云下载 config.json 然后保存在本地 filmy:config\n\nconst Config = {\n  load (silent = false) {\n    return min.exists('filmy:config')\n      .then(exists => {\n        if (exists) {\n          // 从数据库中获取核心配置数据\n          // return min.hgetall('filmy:config')\n          // 每次打开页面都去获取 config.json\n          return filmyBucket.getFile('config.json')\n            .then(body => JSON.parse(body))\n            .then(data => {\n              // 从七牛云获取到的数据存入数据库中\n              try {\n                min.hmset('filmy:config', data)\n              } catch (err) {\n                console.error(err)\n              }\n              return data\n            })\n        } else {\n          return filmyBucket.getFile('config.json')\n            .then(body => JSON.parse(body))\n            .then(data => {\n              // 从七牛云获取到的数据存入数据库中\n              try {\n                min.hmset('filmy:config', data)\n              } catch (err) {\n                console.error(err)\n              }\n              return data\n            })\n        }\n      })\n      .catch(error => {\n        if (!silent) alert(error + 'You must init Filmy with the administrator tools.')\n      })\n  },\n\n  // 通过七牛云密码来更新七牛云线上文件\n  // 核心配置数据:\n  // title\n  // description\n  // author\n  // avatar\n  // key 是 核心配置数据的键\n  // value 是核心配置数据的值\n  // ==============================================\n  // 先用密码获取 putToken\n  // 读取本地配置数据与 putToken 组成数组\n  // 根据传入要修改的 key 和 value 修改成新的 config\n  // 使用 Blob 构造类二进制文件对象\n  // 将文件对象使用 putFile 上传到七牛云\n  update (password, update = {}, silent = false) {\n    if (!isString(password)) {\n      throw new TypeError('Password must be a string')\n    }\n\n    return filmyBucket.fetchPutToken(password, 'config.json')\n      .then(putToken => {\n        return Config.load(silent)\n          .then(oldConfig => [oldConfig, putToken])\n          .catch(() => [{}, putToken])\n      })\n      .then(([config, putToken]) => {\n        config = config || {}\n\n        for (const key of Object.keys(update)) {\n          config[key] = update[key]\n        }\n\n        const fileData = new Blob([JSON.stringify(config)], {type: 'application/json'})\n        fileData.name = 'config.json'\n\n        return filmyBucket.putFile(\n          fileData.name,\n          fileData,\n          {\n            putToken: putToken\n          }\n        )\n      })\n  }\n}\n\nexport default Config\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/Config.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"categories\"\n    }\n  }, [_c('div', {\n    staticClass: \"page-header\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm._f(\"i18n\")('category')))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"row\"\n  }, [_c('form', {\n    staticClass: \"form-inline pull-right\"\n  }, [_c('div', {\n    staticClass: \"form-group\"\n  }, [_c('button', {\n    staticClass: \"btn btn-primary\",\n    on: {\n      \"click\": _vm.newer\n    }\n  }, [_c('span', {\n    staticClass: \"glyphicon glyphicon-plus\",\n    attrs: {\n      \"aria-hidden\": \"true\"\n    }\n  }), _vm._v(\"\\n          \" + _vm._s(_vm._f(\"i18n\")('new')) + \"\\n        \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.query),\n      expression: \"query\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.query)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.query = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.search\n    }\n  }, [_c('span', {\n    staticClass: \"glyphicon glyphicon-search\",\n    attrs: {\n      \"aria-hidden\": \"true\"\n    }\n  }), _vm._v(\"\\n          \" + _vm._s(_vm._f(\"i18n\")('search')) + \"\\n        \")])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"row\"\n  }, _vm._l((_vm.categories), function(category) {\n    return _c('router-link', {\n      staticClass: \"category img-rounded\",\n      attrs: {\n        \"to\": {\n          path: (\"/categories/\" + (category.name))\n        }\n      }\n    }, [_c('h1', {\n      staticClass: \"category-title\"\n    }, [_vm._v(_vm._s(category.title) + \" (\" + _vm._s(category.count) + \")\")]), _vm._v(\" \"), _c('img', {\n      staticClass: \"lazyload\",\n      attrs: {\n        \"data-src\": category.cover,\n        \"alt\": category.title\n      }\n    })])\n  }))])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-c1846478\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/router-components/admin/Categories.vue\n// module id = 395\n// module chunks = 2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"album\"\n    }\n  }, [_c('div', {\n    staticClass: \"page-header\"\n  }, [(!_vm.newer) ? _c('h1', [_vm._v(_vm._s(_vm.album.title))]) : _c('h1', [_vm._v(_vm._s(_vm._f(\"i18n\")('new')) + \" \" + _vm._s(_vm._f(\"i18n\")('album')))])]), _vm._v(\" \"), _c('form', [_c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"title\"\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('title')))]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.album.title),\n      expression: \"album.title\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.album.title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.album.title = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"category\"\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('category')))]), _vm._v(\" \"), _c('select', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.album.category),\n      expression: \"album.category\"\n    }],\n    staticClass: \"form-control\",\n    on: {\n      \"change\": function($event) {\n        var $$selectedVal = Array.prototype.filter.call($event.target.options, function(o) {\n          return o.selected\n        }).map(function(o) {\n          var val = \"_value\" in o ? o._value : o.value;\n          return val\n        });\n        _vm.album.category = $event.target.multiple ? $$selectedVal : $$selectedVal[0]\n      }\n    }\n  }, _vm._l((_vm.categories), function(category) {\n    return _c('option', {\n      domProps: {\n        \"selected\": category.selected,\n        \"value\": category.name\n      }\n    }, [_vm._v(_vm._s(category.title))])\n  }))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"content\"\n    }\n  }, [_vm._v(_vm._s(_vm._f(\"i18n\")('text content')))]), _vm._v(\" \"), _c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.album.content),\n      expression: \"album.content\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"id\": \"content\",\n      \"rows\": \"7\"\n    },\n    domProps: {\n      \"value\": (_vm.album.content)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.album.content = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    ref: \"photos\",\n    staticClass: \"photos\",\n    class: {\n      over: _vm.over\n    }\n  }, [_vm._l((_vm.album.photos), function(photo, index) {\n    return _c('div', {\n      staticClass: \"photo img-rounded\"\n    }, [_c('span', {\n      staticClass: \"remove-btn glyphicon glyphicon-remove\",\n      attrs: {\n        \"aria-hidden\": \"true\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.removePhoto(index)\n        }\n      }\n    }), _vm._v(\" \"), _c('img', {\n      attrs: {\n        \"src\": photo\n      }\n    })])\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"photo\"\n  }, [_c('span', {\n    ref: \"add\",\n    staticClass: \"add-btn glyphicon glyphicon-plus\",\n    attrs: {\n      \"aria-hidden\": \"true\"\n    }\n  })])], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('button', {\n    staticClass: \"btn btn-primary\",\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_c('span', {\n    staticClass: \"glyphicon glyphicon-ok\",\n    attrs: {\n      \"aria-hidden\": \"true\"\n    }\n  }), _vm._v(\" \" + _vm._s(_vm._f(\"i18n\")('finish')))]), _vm._v(\" \"), (!_vm.newer) ? _c('button', {\n    staticClass: \"btn btn-danger\",\n    on: {\n      \"click\": _vm.Delete\n    }\n  }, [_c('span', {\n    staticClass: \"glyphicon glyphicon-remove\"\n  }), _vm._v(\" \" + _vm._s(_vm._f(\"i18n\")('delete')))]) : _vm._e()])])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-de291712\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/router-components/admin/Album.vue\n// module id = 396\n// module chunks = 2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"categories\"\n    }\n  }, [_c('div', {\n    staticClass: \"page-header\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm._f(\"i18n\")('album')))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"row\"\n  }, [_c('ul', {\n    staticClass: \"nav nav-pills col-sm-7\"\n  }, [_c('li', {\n    attrs: {\n      \"role\": \"presentation\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.showCategory()\n      }\n    }\n  }, [_c('a', [_vm._v(_vm._s(_vm._f(\"i18n\")('all')))])]), _vm._v(\" \"), _vm._l((_vm.categories), function(category) {\n    return _c('li', {\n      attrs: {\n        \"role\": \"presentation\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.showCategory(category)\n        }\n      }\n    }, [_c('a', [_vm._v(_vm._s(category.title))])])\n  })], 2), _vm._v(\" \"), _c('form', {\n    staticClass: \"form-inline pull-right\"\n  }, [_c('div', {\n    staticClass: \"form-group\"\n  }, [_c('button', {\n    staticClass: \"btn btn-primary\",\n    on: {\n      \"click\": _vm.newer\n    }\n  }, [_c('span', {\n    staticClass: \"glyphicon glyphicon-plus\",\n    attrs: {\n      \"aria-hidden\": \"true\"\n    }\n  }), _vm._v(\"\\n          \" + _vm._s(_vm._f(\"i18n\")('new')) + \"\\n        \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.query),\n      expression: \"query\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.query)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.query = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.search\n    }\n  }, [_c('span', {\n    staticClass: \"glyphicon glyphicon-search\",\n    attrs: {\n      \"aria-hidden\": \"true\"\n    }\n  }), _vm._v(\"\\n          \" + _vm._s(_vm._f(\"i18n\")('search')) + \"\\n        \")])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"row\"\n  }, _vm._l((_vm.albums), function(album) {\n    return _c('router-link', {\n      staticClass: \"album img-rounded\",\n      attrs: {\n        \"to\": {\n          path: (\"/albums/\" + (album._key))\n        }\n      }\n    }, [_c('h3', {\n      staticClass: \"album-title\"\n    }, [_vm._v(_vm._s(album.title) + \" \"), _c('span', {\n      staticClass: \"category\"\n    }, [_vm._v(_vm._s(album.categoryTitle))])]), _vm._v(\" \"), _c('img', {\n      staticClass: \"lazyload\",\n      attrs: {\n        \"data-src\": album.photos[0],\n        \"alt\": album.title\n      }\n    })])\n  }))])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-dfa288e8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/router-components/admin/Albums.vue\n// module id = 397\n// module chunks = 2","import Model from 'min-model'\n\nclass ChineseStringIndexer extends Model.BaseIndexer {\n  get async () {\n    return true\n  }\n\n  indexMapper (val) {\n    const url =\n      `http://api.pullword.com/get?source=${encodeURIComponent(val)}&threshold=0.5&json=1`\n\n    return fetch(url, {method: 'POST'})\n      .then(res => res.json())\n      .catch(() => [val])\n  }\n}\n\nexport default ChineseStringIndexer\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/chinese-string-indexer.js","module.exports = {\"_default\":\"en\",\"back\":{\"en\":\"Back\",\"zh\":\"返回\"},\"home\":{\"en\":\"Home\",\"zh\":\"首页\"},\"category\":{\"en\":\"Category\",\"zh\":\"分类\"},\"album\":{\"en\":\"Album\",\"zh\":\"相册\"},\"apply\":{\"en\":\"Apply\",\"zh\":\"初始化\"},\"admin password\":{\"en\":\"Admin Password\",\"zh\":\"管理密码\"},\"setting\":{\"en\":\"Setting\",\"zh\":\"设置\"},\"search\":{\"en\":\"Search\",\"zh\":\"搜索\"},\"title\":{\"en\":\"Title\",\"zh\":\"标题\"},\"subtitle\":{\"en\":\"Subtitle\",\"zh\":\"副标题\"},\"background image\":{\"en\":\"Backrgound Image\",\"zh\":\"背景图\"},\"upload file\":{\"en\":\"Upload File\",\"zh\":\"上传文件\"},\"reset\":{\"en\":\"Reset\",\"zh\":\"重置\"},\"finish\":{\"en\":\"Finish\",\"zh\":\"完成\"},\"working\":{\"en\":\"Working\",\"zh\":\"进行中\"},\"dashboard\":{\"en\":\"Dashboard\",\"zh\":\"总览\"},\"number of categories\":{\"en\":\"Number of categories\",\"zh\":\"分类数量\"},\"number of albums\":{\"en\":\"Number of albums\",\"zh\":\"相册数量\"},\"number of photos\":{\"en\":\"Number of photos\",\"zh\":\"照片总数\"},\"rates of categories\":{\"en\":\"Rates of categories\",\"zh\":\"分类占比\"},\"input password\":{\"en\":\"Please input your admin password\",\"zh\":\"请输入您的管理密码\"},\"update succeed\":{\"en\":\"Update succeed\",\"zh\":\"更新成功\"},\"something went wrong\":{\"en\":\"Something went wrong\",\"zh\":\"出错\"},\"new\":{\"en\":\"New\",\"zh\":\"新增\"},\"delete\":{\"en\":\"Delete\",\"zh\":\"删除\"},\"name\":{\"en\":\"Name\",\"zh\":\"名称\"},\"cover\":{\"en\":\"Cover\",\"zh\":\"封面\"},\"are you sure\":{\"en\":\"Are you sure?\",\"zh\":\"你确定要这么做？\"},\"go to home page\":{\"en\":\"Go to the home page\",\"zh\":\"前往首页\"},\"all\":{\"en\":\"All\",\"zh\":\"全部\"},\"text content\":{\"en\":\"Text content\",\"zh\":\"文本内容\"},\"password wrong\":{\"en\":\"Password is not correct\",\"zh\":\"密码不正确\"},\"welcome back\":{\"en\":\"Welcome back\",\"zh\":\"欢迎回来\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/i18n.config.json\n// module id = 56\n// module chunks = 1 2 3","module.exports = {\"sha224WithRSAEncryption\":{\"sign\":\"rsa\",\"hash\":\"sha224\",\"id\":\"302d300d06096086480165030402040500041c\"},\"RSA-SHA224\":{\"sign\":\"ecdsa/rsa\",\"hash\":\"sha224\",\"id\":\"302d300d06096086480165030402040500041c\"},\"sha256WithRSAEncryption\":{\"sign\":\"rsa\",\"hash\":\"sha256\",\"id\":\"3031300d060960864801650304020105000420\"},\"RSA-SHA256\":{\"sign\":\"ecdsa/rsa\",\"hash\":\"sha256\",\"id\":\"3031300d060960864801650304020105000420\"},\"sha384WithRSAEncryption\":{\"sign\":\"rsa\",\"hash\":\"sha384\",\"id\":\"3041300d060960864801650304020205000430\"},\"RSA-SHA384\":{\"sign\":\"ecdsa/rsa\",\"hash\":\"sha384\",\"id\":\"3041300d060960864801650304020205000430\"},\"sha512WithRSAEncryption\":{\"sign\":\"rsa\",\"hash\":\"sha512\",\"id\":\"3051300d060960864801650304020305000440\"},\"RSA-SHA512\":{\"sign\":\"ecdsa/rsa\",\"hash\":\"sha512\",\"id\":\"3051300d060960864801650304020305000440\"},\"RSA-SHA1\":{\"sign\":\"rsa\",\"hash\":\"sha1\",\"id\":\"3021300906052b0e03021a05000414\"},\"ecdsa-with-SHA1\":{\"sign\":\"ecdsa\",\"hash\":\"sha1\",\"id\":\"\"},\"sha256\":{\"sign\":\"ecdsa\",\"hash\":\"sha256\",\"id\":\"\"},\"sha224\":{\"sign\":\"ecdsa\",\"hash\":\"sha224\",\"id\":\"\"},\"sha384\":{\"sign\":\"ecdsa\",\"hash\":\"sha384\",\"id\":\"\"},\"sha512\":{\"sign\":\"ecdsa\",\"hash\":\"sha512\",\"id\":\"\"},\"DSA-SHA\":{\"sign\":\"dsa\",\"hash\":\"sha1\",\"id\":\"\"},\"DSA-SHA1\":{\"sign\":\"dsa\",\"hash\":\"sha1\",\"id\":\"\"},\"DSA\":{\"sign\":\"dsa\",\"hash\":\"sha1\",\"id\":\"\"},\"DSA-WITH-SHA224\":{\"sign\":\"dsa\",\"hash\":\"sha224\",\"id\":\"\"},\"DSA-SHA224\":{\"sign\":\"dsa\",\"hash\":\"sha224\",\"id\":\"\"},\"DSA-WITH-SHA256\":{\"sign\":\"dsa\",\"hash\":\"sha256\",\"id\":\"\"},\"DSA-SHA256\":{\"sign\":\"dsa\",\"hash\":\"sha256\",\"id\":\"\"},\"DSA-WITH-SHA384\":{\"sign\":\"dsa\",\"hash\":\"sha384\",\"id\":\"\"},\"DSA-SHA384\":{\"sign\":\"dsa\",\"hash\":\"sha384\",\"id\":\"\"},\"DSA-WITH-SHA512\":{\"sign\":\"dsa\",\"hash\":\"sha512\",\"id\":\"\"},\"DSA-SHA512\":{\"sign\":\"dsa\",\"hash\":\"sha512\",\"id\":\"\"},\"DSA-RIPEMD160\":{\"sign\":\"dsa\",\"hash\":\"rmd160\",\"id\":\"\"},\"ripemd160WithRSA\":{\"sign\":\"rsa\",\"hash\":\"rmd160\",\"id\":\"3021300906052b2403020105000414\"},\"RSA-RIPEMD160\":{\"sign\":\"rsa\",\"hash\":\"rmd160\",\"id\":\"3021300906052b2403020105000414\"},\"md5WithRSAEncryption\":{\"sign\":\"rsa\",\"hash\":\"md5\",\"id\":\"3020300c06082a864886f70d020505000410\"},\"RSA-MD5\":{\"sign\":\"rsa\",\"hash\":\"md5\",\"id\":\"3020300c06082a864886f70d020505000410\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/browserify-sign/browser/algorithms.json\n// module id = 61\n// module chunks = 1 2 3","module.exports = {\"1.3.132.0.10\":\"secp256k1\",\"1.3.132.0.33\":\"p224\",\"1.2.840.10045.3.1.1\":\"p192\",\"1.2.840.10045.3.1.7\":\"p256\",\"1.3.132.0.34\":\"p384\",\"1.3.132.0.35\":\"p521\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/browserify-sign/browser/curves.json\n// module id = 62\n// module chunks = 1 2 3","import qiniu from 'qiniu.js'\nimport crypto from 'crypto-browserify'\n\nconst filmyBucket = qiniu.bucket('mather', {\n  // url: (qiniuBucketUrl ? qiniuBucketUrl : `${location.protocol}//${location.host}`)\n  url: 'http://oq1ecwbwl.bkt.clouddn.com'\n})\n\nfunction getKeys (password) {\n  return filmyBucket.getFile(`secret-${password}.json`)\n    .then(body => JSON.parse(body))\n}\n// incorrect region, please use up-z2.qiniu.com\n// in qiniu.js\nfilmyBucket.fetchPutToken = function (password, key = null, keys = null, returnBody = null) {\n  return (keys ? Promise.resolve(keys) : getKeys(password))\n    .then(keys => {\n      const options = {\n        // qiniu bucket name\n        scope: 'mather' + (key ? `:${key}` : ''),\n        deadline: Math.floor(Date.now() / 1000) + 3600\n      }\n\n      if (returnBody) options.returnBody = returnBody\n\n      // Signture\n      const signture = safeEncode(JSON.stringify(options))\n\n      // Encode Digest\n      const encodeDigest = encodeSign(signture, keys.sk)\n\n      // Put token\n      const token = `${keys.ak}:${encodeDigest}:${signture}`\n\n      return token\n    })\n}\n\nfunction safeEncode (str) {\n  return btoa(str).replace(/\\//g, '_').replace(/\\+/g, '-')\n}\n\nfunction encodeSign (str, key) {\n  return crypto\n    .createHmac('sha1', key)\n    .update(str)\n    .digest('base64')\n    .replace(/\\//g, '_')\n    .replace(/\\+/g, '-')\n}\n\nexport default filmyBucket\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/qiniu-bucket.js","let modalWrapper = null\nconst _ = document.querySelector('#alertModal')\n\nif (_) {\n  modalWrapper = _\n} else {\n  modalWrapper = document.createElement('div')\n  modalWrapper.classList.add('modal')\n  modalWrapper.classList.add('fade')\n  modalWrapper.setAttribute('id', 'alertModal')\n  modalWrapper.setAttribute('role', 'dialog')\n  modalWrapper.setAttribute('aria-labelledby', 'alertModal')\n  modalWrapper.setAttribute('aria-hidden', 'true')\n\n  const modalDialogEl = document.createElement('div')\n  modalDialogEl.classList.add('modal-dialog')\n\n  const modalContentEl = document.createElement('div')\n  modalContentEl.classList.add('modal-content')\n\n  modalDialogEl.appendChild(modalContentEl)\n  modalWrapper.appendChild(modalDialogEl)\n  document.body.appendChild(modalWrapper)\n}\n\nexport default function open (title, content, footer) {\n  const modal = new Modal(modalWrapper, {\n    content: `\n      <div class=\"modal-header\">\n        <h4 class=\"modal-title\">${title}</h4>\n      </div>\n      <div class=\"modal-body\">\n        ${content}\n      </div>\n      <div class=\"modal-footer\">\n        ${footer}\n      </div>\n    `\n  })\n  modal.open()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/simple-modal.js","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport i18n from '../libs/i18n'\nimport Admin from '../components/admin/Admin.vue'\n\n// Routes\nimport DashboardRoute from '../router-components/admin/Dashboard.vue'\nimport SettingsRoute from '../router-components/admin/Settings.vue'\nimport CategoriesRoute from '../router-components/admin/Categories.vue'\nimport CategoryRoute from '../router-components/admin/Category.vue'\nimport AlbumsRoute from '../router-components/admin/Albums.vue'\nimport AlbumRoute from '../router-components/admin/Album.vue'\n\n// Qiniu Cloud Storage Bucket Instance\nimport filmyBucket from '../models/qiniu-bucket'\n\nimport 'sweetalert'\n\nVue.filter('i18n', i18n)\n// Routing the router\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    component: DashboardRoute\n  },\n  {\n    path: '/dashboard',\n    name: 'dashboard',\n    component: DashboardRoute\n  },\n  {\n    path: '/categories',\n    name: 'categories',\n    component: CategoriesRoute\n  },\n  {\n    path: '/categories/:name',\n    name: 'category',\n    component: CategoryRoute\n  },\n  {\n    path: '/albums',\n    name: 'albums',\n    component: AlbumsRoute\n  },\n  {\n    path: '/albums/:key',\n    name: 'album',\n    component: AlbumRoute\n  },\n  {\n    path: '/settings',\n    name: 'settings',\n    component: SettingsRoute\n  }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nexport const sideBarBus = new Vue()\n\n// Promisify sweetalert\nconst swalp = (...args) => {\n  return new Promise(resolve => {\n    swal(...args, (...argv) => resolve(...argv))\n  })\n}\n\n// Confirm the admin password\nswalp({\n  title: i18n('input password'),\n  type: 'input',\n  inputType: 'password',\n  showCancelButton: true,\n  closeOnConfirm: false,\n  animation: 'slide-from-top',\n  showLoaderOnConfirm: true\n})\n// Check the password\n  .then(password => filmyBucket.fetchPutToken(password))\n  .then(() => {\n    swal({\n      type: 'success',\n      title: i18n('welcome back'),\n      timer: 1500,\n      showConfirmButton: false\n    })\n    // router.start(Admin, '#admin')\n    new Vue({\n      el: '#admin',\n      router: router,\n      render: h => h(Admin)\n    })\n  })\n  .catch(() => {\n    console.log('fail')\n    swalp({\n      title: i18n('password wrong'),\n      type: 'error'\n    })\n  })\n\n\n\n// WEBPACK FOOTER //\n// ./src/entries/admin-main.js"],"sourceRoot":""}