webpackJsonp([1],{

/***/ 103:
/***/ (function(module, exports) {

module.exports = {"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}

/***/ }),

/***/ 104:
/***/ (function(module, exports) {

module.exports = {"name":"elliptic","version":"6.4.0","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^1.4.3","coveralls":"^2.11.3","grunt":"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2","istanbul":"^0.4.2","jscs":"^2.9.0","jshint":"^2.6.0","mocha":"^2.1.0"},"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}

/***/ }),

/***/ 107:
/***/ (function(module, exports) {

module.exports = {"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}

/***/ }),

/***/ 114:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_SearchBar_vue__ = __webpack_require__(209);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_b485a0b6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_SearchBar_vue__ = __webpack_require__(394);
function injectStyle (ssrContext) {
  __webpack_require__(332)
}
var normalizeComponent = __webpack_require__(2)
/* script */

/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = "data-v-b485a0b6"
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_SearchBar_vue__["a" /* default */],
  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_b485a0b6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_SearchBar_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["a"] = (Component.exports);


/***/ }),

/***/ 116:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 117:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 118:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 15:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_min__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_min___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_min__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_min_model__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_min_model___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_min_model__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__qiniu_bucket__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__libs_chinese_string_indexer__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_lodash__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_lodash__);









__WEBPACK_IMPORTED_MODULE_4_min_model___default.a.use(__WEBPACK_IMPORTED_MODULE_3_min___default.a);

var Category = __WEBPACK_IMPORTED_MODULE_4_min_model___default.a.extend('category', {
  title: String,
  name: String,
  subtitle: String,
  cover: String
});

Category.setIndexerForColumn('title', __WEBPACK_IMPORTED_MODULE_6__libs_chinese_string_indexer__["a" /* default */]);
Category.setIndex('title');
Category.setIndex('name');

var ready = false;

Category.load = function () {
  return Category.allInstances().then(function (categories) {
    if (categories.length > 0) {
      // ready = true
      // return categories
      // 每次打开页面都去获取 categories.json
      return __WEBPACK_IMPORTED_MODULE_5__qiniu_bucket__["a" /* default */].getFile('categories.json').then(function (body) {
        return JSON.parse(body);
      });
    } else {
      return __WEBPACK_IMPORTED_MODULE_5__qiniu_bucket__["a" /* default */].getFile('categories.json').then(function (body) {
        return JSON.parse(body);
      });
    }
  }).then(function (categories) {
    return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a.all(categories.map(function (category) {
      if (!ready) {
        return new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function (resolve) {
          var _category = new Category(category._key, category);
          _category.once('ready', function () {
            return resolve(_category);
          });
        });
      } else {
        return category;
      }
    }));
  }).then(function (categories) {
    return categories.sort(function (a, b) {
      return a.getCacheData().created_at < b.getCacheData().created_at;
    });
  }).catch(function (error) {
    return [error];
  });
};

Category.loadIfNotInit = function () {
  if (!ready) {
    return Category.load();
  } else {
    return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a.resolve();
  }
};

Category.saveToCloud = function (password) {
  if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7_lodash__["isString"])(password)) {
    throw new TypeError('Password must be a string');
  }

  return __WEBPACK_IMPORTED_MODULE_5__qiniu_bucket__["a" /* default */].fetchPutToken(password, 'categories.json').then(function (putToken) {
    return Category.dump().then(function (data) {
      return [data, putToken];
    });
  }).then(function (_ref) {
    var _ref2 = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray___default()(_ref, 2),
        data = _ref2[0],
        putToken = _ref2[1];

    var fileData = new Blob([__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(data)], { type: 'application/json' });
    fileData.name = 'categories.json';

    return __WEBPACK_IMPORTED_MODULE_5__qiniu_bucket__["a" /* default */].putFile(fileData.name, fileData, { putToken: putToken });
  });
};

/* harmony default export */ __webpack_exports__["a"] = (Category);

/***/ }),

/***/ 179:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_AlbumsList_vue__ = __webpack_require__(203);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2180df38_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_AlbumsList_vue__ = __webpack_require__(381);
function injectStyle (ssrContext) {
  __webpack_require__(321)
}
var normalizeComponent = __webpack_require__(2)
/* script */

/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = "data-v-2180df38"
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_AlbumsList_vue__["a" /* default */],
  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2180df38_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_AlbumsList_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["a"] = (Component.exports);


/***/ }),

/***/ 180:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Category_vue__ = __webpack_require__(205);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5b0c59d8_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Category_vue__ = __webpack_require__(390);
function injectStyle (ssrContext) {
  __webpack_require__(329)
}
var normalizeComponent = __webpack_require__(2)
/* script */

/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = "data-v-5b0c59d8"
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Category_vue__["a" /* default */],
  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5b0c59d8_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Category_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["a"] = (Component.exports);


/***/ }),

/***/ 181:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Content_vue__ = __webpack_require__(206);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_51cea853_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Content_vue__ = __webpack_require__(388);
function injectStyle (ssrContext) {
  __webpack_require__(328)
}
var normalizeComponent = __webpack_require__(2)
/* script */

/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = "data-v-51cea853"
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Content_vue__["a" /* default */],
  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_51cea853_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Content_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["a"] = (Component.exports);


/***/ }),

/***/ 182:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(204);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_765b0afb_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(392);
var normalizeComponent = __webpack_require__(2)
/* script */

/* template */

/* styles */
var __vue_styles__ = null
/* scopeId */
var __vue_scopeId__ = null
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__["a" /* default */],
  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_765b0afb_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* unused harmony default export */ var _unused_webpack_default_export = (Component.exports);


/***/ }),

/***/ 184:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Album_vue__ = __webpack_require__(212);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3027df37_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Album_vue__ = __webpack_require__(384);
function injectStyle (ssrContext) {
  __webpack_require__(324)
}
var normalizeComponent = __webpack_require__(2)
/* script */

/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = "data-v-3027df37"
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Album_vue__["a" /* default */],
  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3027df37_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Album_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["a"] = (Component.exports);


/***/ }),

/***/ 185:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Category_vue__ = __webpack_require__(213);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7adf24e6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Category_vue__ = __webpack_require__(393);
function injectStyle (ssrContext) {
  __webpack_require__(331)
}
var normalizeComponent = __webpack_require__(2)
/* script */

/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = "data-v-7adf24e6"
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Category_vue__["a" /* default */],
  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7adf24e6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Category_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["a"] = (Component.exports);


/***/ }),

/***/ 186:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Landing_vue__ = __webpack_require__(214);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5243dadf_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Landing_vue__ = __webpack_require__(389);
var normalizeComponent = __webpack_require__(2)
/* script */

/* template */

/* styles */
var __vue_styles__ = null
/* scopeId */
var __vue_scopeId__ = null
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Landing_vue__["a" /* default */],
  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5243dadf_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Landing_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["a"] = (Component.exports);


/***/ }),

/***/ 187:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Search_vue__ = __webpack_require__(215);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_40e986e0_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Search_vue__ = __webpack_require__(385);
function injectStyle (ssrContext) {
  __webpack_require__(325)
}
var normalizeComponent = __webpack_require__(2)
/* script */

/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = "data-v-40e986e0"
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Search_vue__["a" /* default */],
  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_40e986e0_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Search_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["a"] = (Component.exports);


/***/ }),

/***/ 19:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_min__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_min___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_min__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_min_model__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_min_model___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_min_model__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_lodash__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_lodash__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__qiniu_bucket__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__libs_chinese_string_indexer__ = __webpack_require__(42);









__WEBPACK_IMPORTED_MODULE_4_min_model___default.a.use(__WEBPACK_IMPORTED_MODULE_3_min___default.a);

var Album = __WEBPACK_IMPORTED_MODULE_4_min_model___default.a.extend('album', {
  title: String,
  content: String,
  category: String,
  created_at: Number,
  photos: Array
});

// Album.setIndexerForColumn('title', ChineseStringIndexer)
// Album.setIndexerForColumn('content', ChineseStringIndexer)
Album.setIndex('title');
Album.setIndex('content');

var ready = false;

Album.fetchByCategory = function (categoryName) {
  return Album.loadIfNotInit().then(function () {
    return Album.search('category', categoryName);
  }).then(function (albums) {
    return albums.sort(function (a, b) {
      return a.getCacheData().created_at < b.getCacheData().created_at;
    });
  });
};

Album.load = function () {
  return Album.allInstances().then(function (albums) {
    if (albums.length > 0) {
      // ready = true
      // return albums
      // 每次打开页面都去获取 albums.json
      return __WEBPACK_IMPORTED_MODULE_6__qiniu_bucket__["a" /* default */].getFile('albums.json').then(function (body) {
        return JSON.parse(body);
      });
    } else {
      return __WEBPACK_IMPORTED_MODULE_6__qiniu_bucket__["a" /* default */].getFile('albums.json').then(function (body) {
        return JSON.parse(body);
      });
    }
  }).then(function (albums) {
    return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a.all(albums.map(function (album) {
      if (!ready) {
        return new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function (resolve) {
          var _album = new Album(album._key, album);
          _album.once('ready', function () {
            return resolve(_album);
          });
        });
      } else {
        return album;
      }
    }));
  });
};

Album.loadIfNotInit = function () {
  if (!ready) {
    return Album.load();
  } else {
    return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a.resolve();
  }
};

Album.saveToCloud = function (password) {
  if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_lodash__["isString"])(password)) {
    throw new TypeError('Password must be a string');
  }

  return Album.dump().then(function (data) {
    return __WEBPACK_IMPORTED_MODULE_6__qiniu_bucket__["a" /* default */].fetchPutToken(password, 'albums.json').then(function (putToken) {
      return [data, putToken];
    });
  }).then(function (_ref) {
    var _ref2 = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray___default()(_ref, 2),
        data = _ref2[0],
        putToken = _ref2[1];

    var fileData = new Blob([__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(data)], { type: 'application/json' });
    fileData.name = 'albums.json';

    return __WEBPACK_IMPORTED_MODULE_6__qiniu_bucket__["a" /* default */].putFile(fileData.name, fileData, { putToken: putToken });
  });
};

/* harmony default export */ __webpack_exports__["a"] = (Album);

/***/ }),

/***/ 202:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["a"] = ({
  props: ['content']
});

/***/ }),

/***/ 203:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lazysizes_lazysizes_min__ = __webpack_require__(72);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lazysizes_lazysizes_min___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lazysizes_lazysizes_min__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["a"] = ({
  props: ['albums'],
  filters: {
    thumbnail: function thumbnail(photo) {
      return photo + '?imageMogr2/thumbnail/!500x500r';
    }
  }
});

/***/ }),

/***/ 204:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Footer_vue__ = __webpack_require__(374);
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["a"] = ({
  data: function data() {
    return {
      // Default document title
      blogTitle: 'Filmy'
    };
  },

  components: {
    'FilmyFooter': __WEBPACK_IMPORTED_MODULE_0__Footer_vue__["a" /* default */]
  },
  mounted: function mounted() {
    var _this = this;

    // Using events to update title
    // 监听从子组件中触发的 $emit
    this.$on('update-title', function (title) {
      if (title !== '') {
        document.title = title + ' - ' + _this.blogTitle;
      } else {
        document.title = _this.blogTitle;
      }
    }).$once('update-blog-title', function (_blogTitle) {
      _this.blogTitle = _blogTitle;
      document.title = _blogTitle;
    });
  }
});

/***/ }),

/***/ 205:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["a"] = ({
  props: ['category', 'asTitle'],
  filters: {
    thumbnail: function thumbnail(photo) {
      return photo + '?imageMogr2/thumbnail/!1000x1000r';
    }
  }
});

/***/ }),

/***/ 206:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Category_vue__ = __webpack_require__(180);
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["a"] = ({
  props: ['categories'],
  components: {
    Category: __WEBPACK_IMPORTED_MODULE_0__Category_vue__["a" /* default */] // <Category :category="category.getCacheData()"></Category>
  }
});

/***/ }),

/***/ 207:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["a"] = ({
  props: ['config'],
  computed: {
    // Background Image
    backgroundStyle: function backgroundStyle() {
      return { backgroundImage: 'url(\'' + this.config.background + '\')' };
    }
  },
  filters: {
    cr2br: function cr2br(str) {
      return str.replace(/\n/g, '<br />');
    }
  }
});

/***/ }),

/***/ 208:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lazysizes_lazysizes_min__ = __webpack_require__(72);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lazysizes_lazysizes_min___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lazysizes_lazysizes_min__);
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["a"] = ({
  props: ['photos'],
  computed: {
    Photos: function Photos() {
      return (this.photos || []).map(function (photo) {
        return photo + '?imageMogr2/thumbnail/!1000x1000r';
      });
    }
  }
});

/***/ }),

/***/ 209:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["a"] = ({
  props: ['router', 'options', 'query', 'static'],
  data: function data() {
    return {
      // Search Bar Toggle Style
      active: this.static ? 1 : false
    };
  },

  methods: {
    openOrSearch: function openOrSearch() {
      if (this.static) return this.search();
      if (!this.active) {
        this.active = true;
      } else {
        // Use Vue-Router to redirect the request
        this.router.go({
          path: '/search/' + encodeURIComponent(this.query),
          query: this.options || {}
        });
      }
    },
    close: function close() {
      this.active = false;
      this.query = '';
    },
    search: function search() {
      this.$dispatch('search', this.query);
    }
  }
});

/***/ }),

/***/ 212:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_Album__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_Category__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_AlbumInfo_vue__ = __webpack_require__(373);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_PhotosList_vue__ = __webpack_require__(376);

//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["a"] = ({
  name: 'AlbumPage',
  data: function data() {
    return {
      album: {}
    };
  },
  mounted: function mounted() {
    var _this = this;

    __WEBPACK_IMPORTED_MODULE_1__models_Album__["a" /* default */].loadIfNotInit().then(function () {
      return __WEBPACK_IMPORTED_MODULE_1__models_Album__["a" /* default */].fetch(_this.$route.params.key);
    }).then(function (res) {
      return res.getCacheData();
    }).then(function (album) {
      _this.album = album;
      return __WEBPACK_IMPORTED_MODULE_2__models_Category__["a" /* default */].search('name', album.category);
    }).then(function (_ref) {
      var _ref2 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default()(_ref, 1),
          category = _ref2[0];

      // this.$dispatch('update-title', `${this.album.title} - ${category.getCacheData().title}`)
      _this.$emit('update-title', _this.album.title + ' - ' + category.getCacheData().title);
    });
  },

  components: {
    AlbumInfo: __WEBPACK_IMPORTED_MODULE_3__components_AlbumInfo_vue__["a" /* default */],
    PhotosList: __WEBPACK_IMPORTED_MODULE_4__components_PhotosList_vue__["a" /* default */]
  }
});

/***/ }),

/***/ 213:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_Category__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_Album__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_Category_vue__ = __webpack_require__(180);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_AlbumsList_vue__ = __webpack_require__(179);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_SearchBar_vue__ = __webpack_require__(114);


//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ __webpack_exports__["a"] = ({
  name: 'CategoryPage',
  data: function data() {
    return {
      category: {},
      albums: []
    };
  },
  mounted: function mounted() {
    var _this = this;

    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.all([__WEBPACK_IMPORTED_MODULE_2__models_Category__["a" /* default */].loadIfNotInit().then(function () {
      return __WEBPACK_IMPORTED_MODULE_2__models_Category__["a" /* default */].search('name', _this.$route.params.name);
    }).then(function (result) {
      return result[0];
    }), __WEBPACK_IMPORTED_MODULE_3__models_Album__["a" /* default */].fetchByCategory(this.$route.params.name)]).then(function (_ref) {
      var _ref2 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default()(_ref, 2),
          category = _ref2[0],
          albums = _ref2[1];

      _this.category = category.getCacheData();
      _this.albums = albums.map(function (n) {
        return n.getCacheData();
      });
      // this.$dispatch('update-title', this.category.title)
      _this.$emit('update-title', _this.category.title);
    });
  },

  components: {
    Category: __WEBPACK_IMPORTED_MODULE_4__components_Category_vue__["a" /* default */],
    AlbumsList: __WEBPACK_IMPORTED_MODULE_5__components_AlbumsList_vue__["a" /* default */],
    SearchBar: __WEBPACK_IMPORTED_MODULE_6__components_SearchBar_vue__["a" /* default */]
  }
});

/***/ }),

/***/ 214:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_Config__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_Category__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_LandingView_vue__ = __webpack_require__(375);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_Content_vue__ = __webpack_require__(181);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_SearchBar_vue__ = __webpack_require__(114);


//
//
//
//
//
//
//
//






/* harmony default export */ __webpack_exports__["a"] = ({
  name: 'LandingPage',
  data: function data() {
    return {
      config: {},
      categories: []
    };
  },
  mounted: function mounted() {
    var _this = this;

    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.all([__WEBPACK_IMPORTED_MODULE_2__models_Config__["a" /* default */].load(), __WEBPACK_IMPORTED_MODULE_3__models_Category__["a" /* default */].load()]).then(function (_ref) {
      var _ref2 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default()(_ref, 2),
          config = _ref2[0],
          categories = _ref2[1];

      _this.config = config;
      _this.categories = categories;
      //          this.$dispatch('update-blog-title', this.config.title)
      //          this.$dispatch('update-title', '')
      // emit
      _this.$emit('update-blog-title', _this.config.title);
      _this.$emit('update-title', '');
    });
  },

  components: {
    LandingView: __WEBPACK_IMPORTED_MODULE_4__components_LandingView_vue__["a" /* default */],
    Content: __WEBPACK_IMPORTED_MODULE_5__components_Content_vue__["a" /* default */], // <Content :categories="categories"></Content>
    SearchBar: __WEBPACK_IMPORTED_MODULE_6__components_SearchBar_vue__["a" /* default */]
  }
});

/***/ }),

/***/ 215:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_SearchBar_vue__ = __webpack_require__(114);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Content_vue__ = __webpack_require__(181);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_AlbumsList_vue__ = __webpack_require__(179);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_Category__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__models_Album__ = __webpack_require__(19);


//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ __webpack_exports__["a"] = ({
  name: 'SearchPage',
  data: function data() {
    return {
      categories: [],
      albums: []
    };
  },
  mounted: function mounted() {
    var _this = this;

    var query = decodeURIComponent(this.$route.params.query);
    this.search(query);
    this.$on('search', function (query) {
      return _this.search(query);
    });
  },

  methods: {
    search: function search(query) {
      var _this2 = this;

      var promises = [];
      if (!this.$route.query.category) {
        promises = [__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.all([__WEBPACK_IMPORTED_MODULE_5__models_Category__["a" /* default */].search('title', query), __WEBPACK_IMPORTED_MODULE_5__models_Category__["a" /* default */].search('name', query)]).then(function (_ref) {
          var _ref2 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default()(_ref, 2),
              a = _ref2[0],
              b = _ref2[1];

          return a.concat(b);
        }).then(function (result) {
          return result.map(function (n) {
            return new __WEBPACK_IMPORTED_MODULE_5__models_Category__["a" /* default */](n._key, n);
          });
        }), __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.all([__WEBPACK_IMPORTED_MODULE_6__models_Album__["a" /* default */].search('title', query), __WEBPACK_IMPORTED_MODULE_6__models_Album__["a" /* default */].search('content', query)]).then(function (_ref3) {
          var _ref4 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default()(_ref3, 2),
              a = _ref4[0],
              b = _ref4[1];

          return a.concat(b);
        })];
      } else {
        promises.push(__WEBPACK_IMPORTED_MODULE_6__models_Album__["a" /* default */].search('category', this.$route.query.category).then(function (result) {
          return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.all([__WEBPACK_IMPORTED_MODULE_6__models_Album__["a" /* default */].search('title', query, result), __WEBPACK_IMPORTED_MODULE_6__models_Album__["a" /* default */].search('content', query, result)]).then(function (_ref5) {
            var _ref6 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default()(_ref5, 2),
                a = _ref6[0],
                b = _ref6[1];

            return a.concat(b);
          });
        }));
      }
      __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.all(promises).then(function (_ref7) {
        var _ref8 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default()(_ref7, 2),
            categories = _ref8[0],
            albums = _ref8[1];

        if (albums) {
          _this2.categories = categories.map(function (n) {
            return n.getCacheData();
          });
          _this2.albums = albums.map(function (n) {
            return n.getCacheData();
          });
        } else {
          _this2.albums = categories.map(function (n) {
            return n.getCacheData();
          });
        }
      });
    }
  },
  components: {
    SearchBar: __WEBPACK_IMPORTED_MODULE_2__components_SearchBar_vue__["a" /* default */],
    Content: __WEBPACK_IMPORTED_MODULE_3__components_Content_vue__["a" /* default */],
    AlbumsList: __WEBPACK_IMPORTED_MODULE_4__components_AlbumsList_vue__["a" /* default */]
  }
});

/***/ }),

/***/ 223:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__libs_i18n__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_App_vue__ = __webpack_require__(182);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__router_components_Landing_vue__ = __webpack_require__(186);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__router_components_Category_vue__ = __webpack_require__(185);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__router_components_Album_vue__ = __webpack_require__(184);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__router_components_Search_vue__ = __webpack_require__(187);










__WEBPACK_IMPORTED_MODULE_0_vue__["a" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__["a" /* default */]);

var routes = [{
  path: '/',
  name: 'landing',
  component: __WEBPACK_IMPORTED_MODULE_4__router_components_Landing_vue__["a" /* default */]
}, {
  path: '/category/:name',
  name: 'category',
  component: __WEBPACK_IMPORTED_MODULE_5__router_components_Category_vue__["a" /* default */]
}, {
  path: '/album/:key',
  name: 'album',
  component: __WEBPACK_IMPORTED_MODULE_6__router_components_Album_vue__["a" /* default */]
}, {
  path: '/search/:query',
  name: 'search',
  component: __WEBPACK_IMPORTED_MODULE_7__router_components_Search_vue__["a" /* default */]
}];

var router = new __WEBPACK_IMPORTED_MODULE_1_vue_router__["a" /* default */]({
  routes: routes
});
// router.start(App, '#app')

new __WEBPACK_IMPORTED_MODULE_0_vue__["a" /* default */]({
  el: '#app',
  router: router,
  template: '<router-view></router-view>'
  // render: h => h(Admin)
});

__WEBPACK_IMPORTED_MODULE_0_vue__["a" /* default */].filter('i18n', __WEBPACK_IMPORTED_MODULE_2__libs_i18n__["a" /* default */]);
__WEBPACK_IMPORTED_MODULE_0_vue__["a" /* default */].filter('toUpperCase', function (str) {
  return str.toUpperCase();
});
__WEBPACK_IMPORTED_MODULE_0_vue__["a" /* default */].filter('toLowerCase', function (str) {
  return str.toLowerCase();
});
__WEBPACK_IMPORTED_MODULE_0_vue__["a" /* default */].filter('firstLetterUpperCase', function (str) {
  return str.replace(/([.!?;]+)/g, '$1|-|-|').split('|-|-|').map(function (s) {
    return s.trim();
  }).filter(Boolean).map(function (s) {
    return s[0].toUpperCase() + s.slice(1);
  }).reduce(function (a, b) {
    return a + ' ' + b;
  });
});

/***/ }),

/***/ 29:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export i18n */
/* unused harmony export detectLang */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__i18n_config_json__ = __webpack_require__(56);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__i18n_config_json___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__i18n_config_json__);

/* harmony default export */ __webpack_exports__["a"] = (i18n(__WEBPACK_IMPORTED_MODULE_0__i18n_config_json___default.a));
function i18n(config) {
  var lang = navigator.language;
  var defaultLang = config._default;

  return function (key) {
    var language = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : lang;

    key = key.toLowerCase();

    // 检索适配标签
    var translations = config[key];

    // 如果适配配置中不存在
    // 则直接将输入的键值返回
    if (!translations) return key;

    // 如果配置文件中存在对详细语言进行适配，则将适配内容返回
    if (translations[language]) return translations[language];

    // 配置文件中存在对语言的笼统分类进行适配
    language = language.split('-')[0];
    if (translations[language]) return translations[language];

    // 返回默认配置结果
    if (translations[defaultLang]) return translations[defaultLang];

    return key;
  };
}

function detectLang() {
  var lang = navigator.language;
  return lang.split('-')[0];
}

/***/ }),

/***/ 321:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 324:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 325:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 326:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 327:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 328:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 329:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 330:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 331:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 332:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 336:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 373:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_AlbumInfo_vue__ = __webpack_require__(202);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_43095dd2_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_AlbumInfo_vue__ = __webpack_require__(386);
function injectStyle (ssrContext) {
  __webpack_require__(326)
}
var normalizeComponent = __webpack_require__(2)
/* script */

/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = "data-v-43095dd2"
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_AlbumInfo_vue__["a" /* default */],
  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_43095dd2_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_AlbumInfo_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["a"] = (Component.exports);


/***/ }),

/***/ 374:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4fbcbcb1_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Footer_vue__ = __webpack_require__(387);
function injectStyle (ssrContext) {
  __webpack_require__(327)
}
var normalizeComponent = __webpack_require__(2)
/* script */
var __vue_script__ = null
/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = "data-v-4fbcbcb1"
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __vue_script__,
  __WEBPACK_IMPORTED_MODULE_0__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4fbcbcb1_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Footer_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["a"] = (Component.exports);


/***/ }),

/***/ 375:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_LandingView_vue__ = __webpack_require__(207);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_e0b4c294_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_LandingView_vue__ = __webpack_require__(398);
function injectStyle (ssrContext) {
  __webpack_require__(336)
}
var normalizeComponent = __webpack_require__(2)
/* script */

/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = "data-v-e0b4c294"
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_LandingView_vue__["a" /* default */],
  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_e0b4c294_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_LandingView_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["a"] = (Component.exports);


/***/ }),

/***/ 376:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_PhotosList_vue__ = __webpack_require__(208);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5b272ad5_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_PhotosList_vue__ = __webpack_require__(391);
function injectStyle (ssrContext) {
  __webpack_require__(330)
}
var normalizeComponent = __webpack_require__(2)
/* script */

/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = "data-v-5b272ad5"
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_PhotosList_vue__["a" /* default */],
  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5b272ad5_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_PhotosList_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["a"] = (Component.exports);


/***/ }),

/***/ 381:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    attrs: {
      "id": "category-albums"
    }
  }, [_vm._l((_vm.albums), function(album) {
    return _c('router-link', {
      attrs: {
        "to": {
          path: ("/album/" + (album._key))
        }
      }
    }, [(_vm.albums.length > 0) ? _c('div', {
      staticClass: "album"
    }, [_c('div', {
      staticClass: "album-image"
    }, [_c('img', {
      staticClass: "lazyload",
      attrs: {
        "data-src": _vm._f("thumbnail")(album.photos[0])
      }
    }), _vm._v(" "), _c('span', {
      staticClass: "album-title"
    }, [_vm._v(_vm._s(album.title))])])]) : _vm._e(), _vm._v(" "), (_vm.albums.length == 0) ? _c('span', {
      attrs: {
        "id": "empty"
      }
    }, [_vm._v("暂无相册")]) : _vm._e()])
  }), _vm._v(" "), _c('span', {
    attrs: {
      "id": "eof"
    }
  }, [_vm._v("EOF")])], 2)
}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ 384:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    attrs: {
      "id": "album"
    }
  }, [_c('router-link', {
    attrs: {
      "id": "back",
      "to": {
        path: ("/category/" + (this.album.category))
      }
    }
  }, [_c('span', {
    staticClass: "icon-arrow-left"
  }), _vm._v(" "), _c('span', {
    staticClass: "home-text"
  }, [_vm._v(_vm._s(_vm._f("toUpperCase")(_vm._f("i18n")('back'))))])]), _vm._v(" "), _c('h1', {
    attrs: {
      "id": "album-title"
    }
  }, [_vm._v(_vm._s(_vm.album.title))]), _vm._v(" "), _c('album-info', {
    attrs: {
      "content": _vm.album.content
    }
  }), _vm._v(" "), _c('photos-list', {
    attrs: {
      "photos": _vm.album.photos
    }
  })], 1)
}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ 385:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    attrs: {
      "id": "search-result"
    }
  }, [_c('search-bar', {
    attrs: {
      "query": decodeURIComponent(_vm.$route.params.query),
      "static": "true"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "margin-space"
  }), _vm._v(" "), (!_vm.$route.query.category) ? _c('b', {
    staticClass: "title"
  }, [_vm._v("分类")]) : _vm._e(), _vm._v(" "), (!_vm.$route.query.category) ? _c('content', {
    attrs: {
      "categories": _vm.categories
    }
  }) : _vm._e(), _vm._v(" "), (_vm.categories.length == 0 && !_vm.$route.query.category) ? _c('span', {
    attrs: {
      "id": "empty"
    }
  }, [_vm._v("暂无分类")]) : _vm._e(), _vm._v(" "), _c('b', {
    staticClass: "title"
  }, [_vm._v("相册")]), _vm._v(" "), _c('albums-list', {
    attrs: {
      "albums": _vm.albums
    }
  })], 1)
}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ 386:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('section', {
    attrs: {
      "id": "album-info"
    }
  }, [_c('p', [_vm._v(_vm._s(_vm.content))])])
}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ 387:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _vm._m(0)
}
var staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('footer', {
    attrs: {
      "id": "footer"
    }
  }, [_c('span', [_vm._v("Powered by ❤️ and "), _c('a', {
    attrs: {
      "href": "https://github.com/iwillwen/filmy",
      "target": "_blank"
    }
  }, [_vm._v("Filmy")])])])
}]
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ 388:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    attrs: {
      "id": "content"
    }
  }, [_c('div', {
    attrs: {
      "id": "content-categories"
    }
  }, _vm._l((_vm.categories), function(category) {
    return _c('router-link', {
      attrs: {
        "to": {
          path: '/category/' + category.getCacheData('name')
        }
      }
    }, [_c('Category', {
      attrs: {
        "category": category.getCacheData()
      }
    })], 1)
  }))])
}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ 389:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    attrs: {
      "id": "landing"
    }
  }, [_c('search-bar', {
    attrs: {
      "router": _vm.$route.router
    }
  }), _vm._v(" "), _c('landing-view', {
    attrs: {
      "config": _vm.config
    }
  }), _vm._v(" "), _c('Content', {
    attrs: {
      "categories": _vm.categories
    }
  })], 1)
}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ 39:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(81);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_slicedToArray__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_slicedToArray__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_min__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_min___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_min__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__qiniu_bucket__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_lodash__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_lodash__);








// 本地存在 核心配置数据 filmy:config 吗？
// 存在 则获取本地数据
// 不存在 则通过七牛云下载 config.json 然后保存在本地 filmy:config

var Config = {
  load: function load() {
    var silent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

    return __WEBPACK_IMPORTED_MODULE_4_min___default.a.exists('filmy:config').then(function (exists) {
      if (exists) {
        // 从数据库中获取核心配置数据
        // return min.hgetall('filmy:config')
        // 每次打开页面都去获取 config.json
        return __WEBPACK_IMPORTED_MODULE_5__qiniu_bucket__["a" /* default */].getFile('config.json').then(function (body) {
          return JSON.parse(body);
        }).then(function (data) {
          // 从七牛云获取到的数据存入数据库中
          try {
            __WEBPACK_IMPORTED_MODULE_4_min___default.a.hmset('filmy:config', data);
          } catch (err) {
            console.error(err);
          }
          return data;
        });
      } else {
        return __WEBPACK_IMPORTED_MODULE_5__qiniu_bucket__["a" /* default */].getFile('config.json').then(function (body) {
          return JSON.parse(body);
        }).then(function (data) {
          // 从七牛云获取到的数据存入数据库中
          try {
            __WEBPACK_IMPORTED_MODULE_4_min___default.a.hmset('filmy:config', data);
          } catch (err) {
            console.error(err);
          }
          return data;
        });
      }
    }).catch(function (error) {
      if (!silent) alert(error + 'You must init Filmy with the administrator tools.');
    });
  },


  // 通过七牛云密码来更新七牛云线上文件
  // 核心配置数据:
  // title
  // description
  // author
  // avatar
  // key 是 核心配置数据的键
  // value 是核心配置数据的值
  // ==============================================
  // 先用密码获取 putToken
  // 读取本地配置数据与 putToken 组成数组
  // 根据传入要修改的 key 和 value 修改成新的 config
  // 使用 Blob 构造类二进制文件对象
  // 将文件对象使用 putFile 上传到七牛云
  update: function update(password) {
    var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var silent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

    if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6_lodash__["isString"])(password)) {
      throw new TypeError('Password must be a string');
    }

    return __WEBPACK_IMPORTED_MODULE_5__qiniu_bucket__["a" /* default */].fetchPutToken(password, 'config.json').then(function (putToken) {
      return Config.load(silent).then(function (oldConfig) {
        return [oldConfig, putToken];
      }).catch(function () {
        return [{}, putToken];
      });
    }).then(function (_ref) {
      var _ref2 = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_slicedToArray___default()(_ref, 2),
          config = _ref2[0],
          putToken = _ref2[1];

      config = config || {};

      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(update)), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var key = _step.value;

          config[key] = update[key];
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      var fileData = new Blob([__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(config)], { type: 'application/json' });
      fileData.name = 'config.json';

      return __WEBPACK_IMPORTED_MODULE_5__qiniu_bucket__["a" /* default */].putFile(fileData.name, fileData, {
        putToken: putToken
      });
    });
  }
};

/* harmony default export */ __webpack_exports__["a"] = (Config);

/***/ }),

/***/ 390:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "content-category",
    class: {
      'as-title': _vm.asTitle
    }
  }, [_c('div', {
    staticClass: "card-image"
  }, [_c('img', {
    attrs: {
      "src": _vm._f("thumbnail")(_vm.category.cover)
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "card-title"
  }, [_vm._v(_vm._s(_vm.category.title))]), _vm._v(" "), _c('span', {
    staticClass: "card-desc"
  }, [_vm._v(_vm._s(_vm.category.subtitle))])])])
}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ 391:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('section', {
    attrs: {
      "id": "album-photos"
    }
  }, _vm._l((_vm.Photos), function(photo) {
    return _c('img', {
      staticClass: "album-photo lazyload",
      attrs: {
        "data-src": photo,
        "alt": ""
      }
    })
  }))
}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ 392:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('router-view', {
    attrs: {
      "transition": "fade",
      "transition-mode": "out-in"
    }
  }), _vm._v(" "), _c('filmy-footer')], 1)
}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ 393:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    attrs: {
      "id": "category"
    }
  }, [_c('router-link', {
    staticClass: "back back-white",
    attrs: {
      "to": "/"
    }
  }, [_c('span', {
    staticClass: "icon-arrow-left"
  }), _vm._v(" "), _c('span', [_vm._v(_vm._s(_vm._f("toUpperCase")(_vm._f("i18n")('home'))))])]), _vm._v(" "), _c('search-bar', {
    attrs: {
      "router": _vm.$route.router,
      "options": {
        category: _vm.$route.params.name
      }
    }
  }), _vm._v(" "), _c('Category', {
    attrs: {
      "category": _vm.category,
      "as-title": "true"
    }
  }), _vm._v(" "), _c('albums-list', {
    attrs: {
      "albums": _vm.albums
    }
  })], 1)
}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ 394:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    class: {
      active: _vm.active, static: _vm.static
    },
    attrs: {
      "id": "search-bar"
    }
  }, [_c('span', {
    staticClass: "icon",
    attrs: {
      "id": "search-icon"
    },
    on: {
      "click": _vm.openOrSearch
    }
  }, [_vm._v("")]), _vm._v(" "), _c('input', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: (_vm.query),
      expression: "query"
    }],
    attrs: {
      "type": "search",
      "id": "search-query"
    },
    domProps: {
      "value": (_vm.query)
    },
    on: {
      "keyup": function($event) {
        if (!('button' in $event) && _vm._k($event.keyCode, "enter", 13)) { return null; }
        _vm.openOrSearch($event)
      },
      "input": function($event) {
        if ($event.target.composing) { return; }
        _vm.query = $event.target.value
      }
    }
  }), _vm._v(" "), (!_vm.static) ? _c('span', {
    staticClass: "icon",
    attrs: {
      "id": "close-icon"
    },
    on: {
      "click": _vm.close
    }
  }, [_vm._v("")]) : _vm._e()])
}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ 398:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    attrs: {
      "id": "landing"
    }
  }, [_c('div', {
    style: (_vm.backgroundStyle),
    attrs: {
      "id": "landing-background"
    }
  }), _vm._v(" "), _c('div', {
    attrs: {
      "id": "landing-content"
    }
  }, [(_vm.config.title) ? _c('h1', {
    attrs: {
      "id": "landing-title"
    }
  }, [_vm._v(_vm._s(_vm.config.title))]) : _vm._e(), _vm._v(" "), _c('p', {
    attrs: {
      "id": "landing-desc"
    }
  }, [_vm._v(_vm._s(_vm._f("cr2br")(_vm.config.description || '')))])]), _vm._v(" "), _c('a', {
    staticClass: "scroll-down icon-arrow-left"
  })])
}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ 42:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(123);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(124);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(127);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__ = __webpack_require__(126);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_min_model__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_min_model___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_min_model__);







var ChineseStringIndexer = function (_Model$BaseIndexer) {
  __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default()(ChineseStringIndexer, _Model$BaseIndexer);

  function ChineseStringIndexer() {
    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, ChineseStringIndexer);

    return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this, (ChineseStringIndexer.__proto__ || __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of___default()(ChineseStringIndexer)).apply(this, arguments));
  }

  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(ChineseStringIndexer, [{
    key: 'indexMapper',
    value: function indexMapper(val) {
      var url = 'http://api.pullword.com/get?source=' + encodeURIComponent(val) + '&threshold=0.5&json=1';

      return fetch(url, { method: 'POST' }).then(function (res) {
        return res.json();
      }).catch(function () {
        return [val];
      });
    }
  }, {
    key: 'async',
    get: function get() {
      return true;
    }
  }]);

  return ChineseStringIndexer;
}(__WEBPACK_IMPORTED_MODULE_5_min_model___default.a.BaseIndexer);

/* harmony default export */ __webpack_exports__["a"] = (ChineseStringIndexer);

/***/ }),

/***/ 56:
/***/ (function(module, exports) {

module.exports = {"_default":"en","back":{"en":"Back","zh":"返回"},"home":{"en":"Home","zh":"首页"},"category":{"en":"Category","zh":"分类"},"album":{"en":"Album","zh":"相册"},"apply":{"en":"Apply","zh":"初始化"},"admin password":{"en":"Admin Password","zh":"管理密码"},"setting":{"en":"Setting","zh":"设置"},"search":{"en":"Search","zh":"搜索"},"title":{"en":"Title","zh":"标题"},"subtitle":{"en":"Subtitle","zh":"副标题"},"background image":{"en":"Backrgound Image","zh":"背景图"},"upload file":{"en":"Upload File","zh":"上传文件"},"reset":{"en":"Reset","zh":"重置"},"finish":{"en":"Finish","zh":"完成"},"working":{"en":"Working","zh":"进行中"},"dashboard":{"en":"Dashboard","zh":"总览"},"number of categories":{"en":"Number of categories","zh":"分类数量"},"number of albums":{"en":"Number of albums","zh":"相册数量"},"number of photos":{"en":"Number of photos","zh":"照片总数"},"rates of categories":{"en":"Rates of categories","zh":"分类占比"},"input password":{"en":"Please input your admin password","zh":"请输入您的管理密码"},"update succeed":{"en":"Update succeed","zh":"更新成功"},"something went wrong":{"en":"Something went wrong","zh":"出错"},"new":{"en":"New","zh":"新增"},"delete":{"en":"Delete","zh":"删除"},"name":{"en":"Name","zh":"名称"},"cover":{"en":"Cover","zh":"封面"},"are you sure":{"en":"Are you sure?","zh":"你确定要这么做？"},"go to home page":{"en":"Go to the home page","zh":"前往首页"},"all":{"en":"All","zh":"全部"},"text content":{"en":"Text content","zh":"文本内容"},"password wrong":{"en":"Password is not correct","zh":"密码不正确"},"welcome back":{"en":"Welcome back","zh":"欢迎回来"}}

/***/ }),

/***/ 61:
/***/ (function(module, exports) {

module.exports = {"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}

/***/ }),

/***/ 62:
/***/ (function(module, exports) {

module.exports = {"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}

/***/ }),

/***/ 7:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_qiniu_js__ = __webpack_require__(75);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_qiniu_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_qiniu_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_crypto_browserify__ = __webpack_require__(101);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_crypto_browserify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_crypto_browserify__);





var filmyBucket = __WEBPACK_IMPORTED_MODULE_2_qiniu_js___default.a.bucket('mather', {
  // url: (qiniuBucketUrl ? qiniuBucketUrl : `${location.protocol}//${location.host}`)
  url: 'http://oq1ecwbwl.bkt.clouddn.com'
});

function getKeys(password) {
  return filmyBucket.getFile('secret-' + password + '.json').then(function (body) {
    return JSON.parse(body);
  });
}
// incorrect region, please use up-z2.qiniu.com
// in qiniu.js
filmyBucket.fetchPutToken = function (password) {
  var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  var keys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  var returnBody = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;

  return (keys ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve(keys) : getKeys(password)).then(function (keys) {
    var options = {
      // qiniu bucket name
      scope: 'mather' + (key ? ':' + key : ''),
      deadline: Math.floor(Date.now() / 1000) + 3600
    };

    if (returnBody) options.returnBody = returnBody;

    // Signture
    var signture = safeEncode(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(options));

    // Encode Digest
    var encodeDigest = encodeSign(signture, keys.sk);

    // Put token
    var token = keys.ak + ':' + encodeDigest + ':' + signture;

    return token;
  });
};

function safeEncode(str) {
  return btoa(str).replace(/\//g, '_').replace(/\+/g, '-');
}

function encodeSign(str, key) {
  return __WEBPACK_IMPORTED_MODULE_3_crypto_browserify___default.a.createHmac('sha1', key).update(str).digest('base64').replace(/\//g, '_').replace(/\+/g, '-');
}

/* harmony default export */ __webpack_exports__["a"] = (filmyBucket);

/***/ })

},[223]);
//# sourceMappingURL=web-build.js.map